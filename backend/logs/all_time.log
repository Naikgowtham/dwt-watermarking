

========== New Session: 2025-06-29 14:37:01 ==========


========== New Session: 2025-06-29 14:37:01 ==========


========== New Session: 2025-06-29 14:37:01 ==========


========== New Session: 2025-06-29 14:37:01 ==========


========== New Session: 2025-06-29 14:37:01 ==========
[2025-06-29 14:37:01,303] [INFO] [__main__] Launching Flask server...
[2025-06-29 14:37:01,304] [INFO] [__main__] Creating Flask app...
[2025-06-29 14:37:01,304] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 14:38:42 ==========


========== New Session: 2025-06-29 14:38:42 ==========


========== New Session: 2025-06-29 14:38:42 ==========


========== New Session: 2025-06-29 14:38:42 ==========


========== New Session: 2025-06-29 14:38:42 ==========
[2025-06-29 14:38:42,519] [INFO] [__main__] Launching Flask server...
[2025-06-29 14:38:42,519] [INFO] [__main__] Creating Flask app...
[2025-06-29 14:38:42,520] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 14:38:42 ==========


========== New Session: 2025-06-29 14:38:42 ==========


========== New Session: 2025-06-29 14:38:42 ==========


========== New Session: 2025-06-29 14:38:42 ==========


========== New Session: 2025-06-29 14:38:42 ==========
[2025-06-29 14:38:42,716] [INFO] [__main__] Launching Flask server...
[2025-06-29 14:38:42,716] [INFO] [__main__] Creating Flask app...
[2025-06-29 14:38:42,717] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 14:41:26,669] [DEBUG] [__main__] Received a new request.
[2025-06-29 14:41:26,669] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 14:43:48 ==========


========== New Session: 2025-06-29 14:43:48 ==========


========== New Session: 2025-06-29 14:43:48 ==========


========== New Session: 2025-06-29 14:43:48 ==========


========== New Session: 2025-06-29 14:43:48 ==========
[2025-06-29 14:43:48,997] [INFO] [__main__] Launching Flask server...
[2025-06-29 14:43:48,997] [INFO] [__main__] Creating Flask app...
[2025-06-29 14:43:48,998] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 14:43:49 ==========


========== New Session: 2025-06-29 14:43:49 ==========


========== New Session: 2025-06-29 14:43:49 ==========


========== New Session: 2025-06-29 14:43:49 ==========


========== New Session: 2025-06-29 14:43:49 ==========
[2025-06-29 14:43:49,191] [INFO] [__main__] Launching Flask server...
[2025-06-29 14:43:49,191] [INFO] [__main__] Creating Flask app...
[2025-06-29 14:43:49,193] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 14:44:03,017] [DEBUG] [__main__] Received a new request.
[2025-06-29 14:44:03,017] [INFO] [__main__] App context teardown complete.
[2025-06-29 14:46:01,892] [DEBUG] [__main__] Received a new request.
[2025-06-29 14:46:01,892] [INFO] [__main__] App context teardown complete.
[2025-06-29 14:46:44,745] [DEBUG] [__main__] Received a new request.
[2025-06-29 14:46:44,745] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 14:46:44,746] [ERROR] [routes.watermark_routes] No message provided for embedding.
[2025-06-29 14:46:44,746] [INFO] [__main__] App context teardown complete.
[2025-06-29 14:47:15,067] [DEBUG] [__main__] Received a new request.
[2025-06-29 14:47:15,067] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 14:47:15,068] [DEBUG] [routes.watermark_routes] Loading image from request...
[2025-06-29 14:47:15,068] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 14:47:15,075] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (670, 791, 3)
[2025-06-29 14:47:15,075] [DEBUG] [routes.watermark_routes] Converting message to bitstream...
[2025-06-29 14:47:15,075] [DEBUG] [utils.bit_utils] Converting string to bits: 'hello'
[2025-06-29 14:47:15,075] [DEBUG] [utils.bit_utils] String converted to 40 bits.
[2025-06-29 14:47:15,075] [DEBUG] [utils.bit_utils] Adding header for message length: 40 bits
[2025-06-29 14:47:15,075] [DEBUG] [utils.bit_utils] Converted integer 40 to bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0]
[2025-06-29 14:47:15,075] [DEBUG] [utils.bit_utils] Total bitstream length after header = 56
[2025-06-29 14:47:15,075] [DEBUG] [routes.watermark_routes] Embedding bitstream into image using DWT...
[2025-06-29 14:47:15,075] [INFO] [core.dwt_engine] Starting DWT watermark embedding
[2025-06-29 14:47:15,077] [DEBUG] [core.dwt_engine] Image shape for DWT: (670, 791)
[2025-06-29 14:47:15,084] [DEBUG] [core.dwt_engine] Embedding into band: LH, shape = (335, 396), coefficients = 132660
[2025-06-29 14:47:15,090] [INFO] [core.dwt_engine] Watermark embedding complete.
[2025-06-29 14:47:15,091] [DEBUG] [routes.watermark_routes] Saving original image to: backend/uploads/original/44aa08c9-8962-4258-a7a5-c8338f6e9216_original.png
[2025-06-29 14:47:15,092] [DEBUG] [utils.image_utils] Attempting to save image to path: backend/uploads/original/44aa08c9-8962-4258-a7a5-c8338f6e9216_original.png
[2025-06-29 14:47:15,097] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 14:47:15,097] [DEBUG] [routes.watermark_routes] Saving watermarked image to: backend/uploads/watermarked/44aa08c9-8962-4258-a7a5-c8338f6e9216_watermarked.png
[2025-06-29 14:47:15,097] [DEBUG] [utils.image_utils] Attempting to save image to path: backend/uploads/watermarked/44aa08c9-8962-4258-a7a5-c8338f6e9216_watermarked.png
[2025-06-29 14:47:15,099] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 14:47:15,099] [DEBUG] [routes.watermark_routes] Encoding watermarked image to base64...
[2025-06-29 14:47:15,099] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: backend/uploads/watermarked/44aa08c9-8962-4258-a7a5-c8338f6e9216_watermarked.png
[2025-06-29 14:47:15,099] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 14:47:15,099] [INFO] [routes.watermark_routes] Watermark embedding successful.
[2025-06-29 14:47:15,099] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 14:54:01 ==========


========== New Session: 2025-06-29 14:54:01 ==========


========== New Session: 2025-06-29 14:54:01 ==========


========== New Session: 2025-06-29 14:54:01 ==========


========== New Session: 2025-06-29 14:54:01 ==========
[2025-06-29 14:54:01,824] [INFO] [__main__] Launching Flask server...
[2025-06-29 14:54:01,824] [INFO] [__main__] Creating Flask app...
[2025-06-29 14:54:01,825] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 14:54:15,921] [DEBUG] [__main__] Received a new request.
[2025-06-29 14:54:15,922] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 14:54:15,922] [ERROR] [routes.watermark_routes] No image file provided for extraction.
[2025-06-29 14:54:15,923] [INFO] [__main__] App context teardown complete.
[2025-06-29 14:54:36,876] [DEBUG] [__main__] Received a new request.
[2025-06-29 14:54:36,876] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 14:54:36,884] [DEBUG] [routes.watermark_routes] Loading watermarked image from request...
[2025-06-29 14:54:36,884] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 14:54:36,886] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (166, 484, 3)
[2025-06-29 14:54:36,886] [DEBUG] [routes.watermark_routes] Extracting bits from DWT band...
[2025-06-29 14:54:36,886] [INFO] [core.dwt_engine] Starting DWT watermark extraction
[2025-06-29 14:54:36,887] [DEBUG] [core.dwt_engine] Extracting from band: LH, shape = (83, 242), total coefficients = 20086
[2025-06-29 14:54:36,887] [DEBUG] [utils.bit_utils] Converted bits to integer: 0
[2025-06-29 14:54:36,887] [DEBUG] [core.dwt_engine] Extracted message length from header: 0
[2025-06-29 14:54:36,887] [INFO] [core.dwt_engine] Watermark extraction complete.
[2025-06-29 14:54:36,887] [DEBUG] [routes.watermark_routes] Converting extracted bits back to string...
[2025-06-29 14:54:36,888] [DEBUG] [utils.bit_utils] Reconstructing string from bits. Bit length = 0
[2025-06-29 14:54:36,888] [DEBUG] [utils.bit_utils] Bits successfully converted to string: ''
[2025-06-29 14:54:36,888] [INFO] [routes.watermark_routes] Watermark extraction successful.
[2025-06-29 14:54:36,888] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 14:59:40 ==========


========== New Session: 2025-06-29 14:59:40 ==========


========== New Session: 2025-06-29 14:59:40 ==========


========== New Session: 2025-06-29 14:59:40 ==========


========== New Session: 2025-06-29 14:59:40 ==========
[2025-06-29 14:59:40,807] [INFO] [__main__] Launching Flask server...
[2025-06-29 14:59:40,807] [INFO] [__main__] Creating Flask app...
[2025-06-29 14:59:40,808] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 14:59:40 ==========


========== New Session: 2025-06-29 14:59:40 ==========


========== New Session: 2025-06-29 14:59:41 ==========


========== New Session: 2025-06-29 14:59:41 ==========


========== New Session: 2025-06-29 14:59:41 ==========
[2025-06-29 14:59:41,004] [INFO] [__main__] Launching Flask server...
[2025-06-29 14:59:41,004] [INFO] [__main__] Creating Flask app...
[2025-06-29 14:59:41,005] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 15:00:14,231] [DEBUG] [__main__] Received a new request.
[2025-06-29 15:00:14,231] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 15:00:14,232] [DEBUG] [routes.watermark_routes] Loading image from request...
[2025-06-29 15:00:14,232] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 15:00:14,234] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (166, 484, 3)
[2025-06-29 15:00:14,234] [DEBUG] [routes.watermark_routes] Converting message to bitstream...
[2025-06-29 15:00:14,234] [DEBUG] [utils.bit_utils] Converting string to bits: 'hello'
[2025-06-29 15:00:14,234] [DEBUG] [utils.bit_utils] String converted to 40 bits.
[2025-06-29 15:00:14,234] [DEBUG] [utils.bit_utils] Adding header for message length: 40 bits
[2025-06-29 15:00:14,234] [DEBUG] [utils.bit_utils] Converted integer 40 to bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0]
[2025-06-29 15:00:14,234] [DEBUG] [utils.bit_utils] Total bitstream length after header = 56
[2025-06-29 15:00:14,234] [DEBUG] [routes.watermark_routes] Embedding bitstream into image using DWT...
[2025-06-29 15:00:14,234] [INFO] [core.dwt_engine] Starting DWT watermark embedding
[2025-06-29 15:00:14,234] [DEBUG] [core.dwt_engine] Image shape for DWT: (166, 484)
[2025-06-29 15:00:14,235] [DEBUG] [core.dwt_engine] Embedding into band: LH, shape = (83, 242), coefficients = 20086
[2025-06-29 15:00:14,236] [INFO] [core.dwt_engine] Watermark embedding complete.
[2025-06-29 15:00:14,237] [DEBUG] [routes.watermark_routes] Saving original image to: /home/gowtham/dwt-watermarking/backend/uploads/original/48427169-ffa6-49ec-88c3-52cb42a7b257_original.png
[2025-06-29 15:00:14,237] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/48427169-ffa6-49ec-88c3-52cb42a7b257_original.png
[2025-06-29 15:00:14,238] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 15:00:14,238] [DEBUG] [routes.watermark_routes] Saving watermarked image to: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/48427169-ffa6-49ec-88c3-52cb42a7b257_watermarked.png
[2025-06-29 15:00:14,238] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/48427169-ffa6-49ec-88c3-52cb42a7b257_watermarked.png
[2025-06-29 15:00:14,238] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 15:00:14,238] [DEBUG] [routes.watermark_routes] Encoding watermarked image to base64...
[2025-06-29 15:00:14,238] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/48427169-ffa6-49ec-88c3-52cb42a7b257_watermarked.png
[2025-06-29 15:00:14,238] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 15:00:14,239] [INFO] [routes.watermark_routes] Watermark embedding successful.
[2025-06-29 15:00:14,239] [INFO] [__main__] App context teardown complete.
[2025-06-29 15:02:48,066] [DEBUG] [__main__] Received a new request.
[2025-06-29 15:02:48,066] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 15:02:48,068] [DEBUG] [routes.watermark_routes] Loading watermarked image from request...
[2025-06-29 15:02:48,068] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 15:02:48,068] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (166, 484, 3)
[2025-06-29 15:02:48,068] [DEBUG] [routes.watermark_routes] Extracting bits from DWT band...
[2025-06-29 15:02:48,068] [INFO] [core.dwt_engine] Starting DWT watermark extraction
[2025-06-29 15:02:48,069] [DEBUG] [core.dwt_engine] Extracting from band: LH, shape = (83, 242), total coefficients = 20086
[2025-06-29 15:02:48,069] [DEBUG] [utils.bit_utils] Converted bits to integer: 40
[2025-06-29 15:02:48,069] [DEBUG] [core.dwt_engine] Extracted message length from header: 40
[2025-06-29 15:02:48,069] [INFO] [core.dwt_engine] Watermark extraction complete.
[2025-06-29 15:02:48,069] [DEBUG] [routes.watermark_routes] Converting extracted bits back to string...
[2025-06-29 15:02:48,069] [DEBUG] [utils.bit_utils] Reconstructing string from bits. Bit length = 40
[2025-06-29 15:02:48,069] [DEBUG] [utils.bit_utils] Bits successfully converted to string: 'hello'
[2025-06-29 15:02:48,070] [INFO] [routes.watermark_routes] Watermark extraction successful.
[2025-06-29 15:02:48,070] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 15:06:09 ==========


========== New Session: 2025-06-29 15:06:09 ==========


========== New Session: 2025-06-29 15:06:09 ==========


========== New Session: 2025-06-29 15:06:09 ==========


========== New Session: 2025-06-29 15:06:09 ==========
[2025-06-29 15:06:09,147] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:06:09,147] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:06:09,148] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 15:06:09 ==========


========== New Session: 2025-06-29 15:06:09 ==========


========== New Session: 2025-06-29 15:06:09 ==========


========== New Session: 2025-06-29 15:06:09 ==========


========== New Session: 2025-06-29 15:06:09 ==========
[2025-06-29 15:06:09,329] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:06:09,330] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:06:09,331] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 15:06:29,090] [DEBUG] [__main__] Received a new request.
[2025-06-29 15:06:29,091] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 15:06:29,092] [DEBUG] [routes.watermark_routes] Loading image from request...
[2025-06-29 15:06:29,092] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 15:06:29,097] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (368, 507, 3)
[2025-06-29 15:06:29,097] [DEBUG] [routes.watermark_routes] Converting message to bitstream...
[2025-06-29 15:06:29,097] [DEBUG] [utils.bit_utils] Converting string to bits: 'gddddd'
[2025-06-29 15:06:29,097] [DEBUG] [utils.bit_utils] String converted to 48 bits.
[2025-06-29 15:06:29,097] [DEBUG] [utils.bit_utils] Adding header for message length: 48 bits
[2025-06-29 15:06:29,097] [DEBUG] [utils.bit_utils] Converted integer 48 to bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0]
[2025-06-29 15:06:29,097] [DEBUG] [utils.bit_utils] Total bitstream length after header = 64
[2025-06-29 15:06:29,097] [DEBUG] [routes.watermark_routes] Embedding bitstream into image using DWT...
[2025-06-29 15:06:29,097] [INFO] [core.dwt_engine] Starting DWT watermark embedding
[2025-06-29 15:06:29,099] [DEBUG] [core.dwt_engine] Image shape for DWT: (368, 507)
[2025-06-29 15:06:29,103] [DEBUG] [core.dwt_engine] Embedding into band: LH, shape = (184, 254), coefficients = 46736
[2025-06-29 15:06:29,107] [INFO] [core.dwt_engine] Watermark embedding complete.
[2025-06-29 15:06:29,107] [DEBUG] [routes.watermark_routes] Saving original image to: /home/gowtham/dwt-watermarking/backend/uploads/original/4a5bcda6-02d4-432c-91f7-a25fea8aa107_original.png
[2025-06-29 15:06:29,107] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/4a5bcda6-02d4-432c-91f7-a25fea8aa107_original.png
[2025-06-29 15:06:29,109] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 15:06:29,109] [DEBUG] [routes.watermark_routes] Saving watermarked image to: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/4a5bcda6-02d4-432c-91f7-a25fea8aa107_watermarked.png
[2025-06-29 15:06:29,109] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/4a5bcda6-02d4-432c-91f7-a25fea8aa107_watermarked.png
[2025-06-29 15:06:29,110] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 15:06:29,110] [DEBUG] [routes.watermark_routes] Encoding watermarked image to base64...
[2025-06-29 15:06:29,110] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/4a5bcda6-02d4-432c-91f7-a25fea8aa107_watermarked.png
[2025-06-29 15:06:29,110] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 15:06:29,110] [INFO] [routes.watermark_routes] Watermark embedding successful.
[2025-06-29 15:06:29,111] [INFO] [__main__] App context teardown complete.
[2025-06-29 15:06:48,039] [DEBUG] [__main__] Received a new request.
[2025-06-29 15:06:48,039] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 15:06:48,040] [DEBUG] [routes.watermark_routes] Loading watermarked image from request...
[2025-06-29 15:06:48,041] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 15:06:48,042] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (368, 508, 3)
[2025-06-29 15:06:48,042] [DEBUG] [routes.watermark_routes] Extracting bits from DWT band...
[2025-06-29 15:06:48,042] [INFO] [core.dwt_engine] Starting DWT watermark extraction
[2025-06-29 15:06:48,044] [DEBUG] [core.dwt_engine] Extracting from band: LH, shape = (184, 254), total coefficients = 46736
[2025-06-29 15:06:48,044] [DEBUG] [utils.bit_utils] Converted bits to integer: 48
[2025-06-29 15:06:48,044] [DEBUG] [core.dwt_engine] Extracted message length from header: 48
[2025-06-29 15:06:48,044] [INFO] [core.dwt_engine] Watermark extraction complete.
[2025-06-29 15:06:48,044] [DEBUG] [routes.watermark_routes] Converting extracted bits back to string...
[2025-06-29 15:06:48,044] [DEBUG] [utils.bit_utils] Reconstructing string from bits. Bit length = 48
[2025-06-29 15:06:48,044] [DEBUG] [utils.bit_utils] Bits successfully converted to string: 'fdDddd'
[2025-06-29 15:06:48,044] [INFO] [routes.watermark_routes] Watermark extraction successful.
[2025-06-29 15:06:48,045] [INFO] [__main__] App context teardown complete.
[2025-06-29 15:07:35,938] [DEBUG] [__main__] Received a new request.
[2025-06-29 15:07:35,939] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 15:07:35,940] [DEBUG] [routes.watermark_routes] Loading image from request...
[2025-06-29 15:07:35,940] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 15:07:35,944] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (368, 507, 3)
[2025-06-29 15:07:35,944] [DEBUG] [routes.watermark_routes] Converting message to bitstream...
[2025-06-29 15:07:35,944] [DEBUG] [utils.bit_utils] Converting string to bits: 'fgh'
[2025-06-29 15:07:35,944] [DEBUG] [utils.bit_utils] String converted to 24 bits.
[2025-06-29 15:07:35,944] [DEBUG] [utils.bit_utils] Adding header for message length: 24 bits
[2025-06-29 15:07:35,944] [DEBUG] [utils.bit_utils] Converted integer 24 to bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0]
[2025-06-29 15:07:35,944] [DEBUG] [utils.bit_utils] Total bitstream length after header = 40
[2025-06-29 15:07:35,944] [DEBUG] [routes.watermark_routes] Embedding bitstream into image using DWT...
[2025-06-29 15:07:35,944] [INFO] [core.dwt_engine] Starting DWT watermark embedding
[2025-06-29 15:07:35,945] [DEBUG] [core.dwt_engine] Image shape for DWT: (368, 507)
[2025-06-29 15:07:35,946] [DEBUG] [core.dwt_engine] Embedding into band: LH, shape = (184, 254), coefficients = 46736
[2025-06-29 15:07:35,949] [INFO] [core.dwt_engine] Watermark embedding complete.
[2025-06-29 15:07:35,949] [DEBUG] [routes.watermark_routes] Saving original image to: /home/gowtham/dwt-watermarking/backend/uploads/original/ed301130-629c-448d-aaa8-e9f2a431291f_original.png
[2025-06-29 15:07:35,949] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/ed301130-629c-448d-aaa8-e9f2a431291f_original.png
[2025-06-29 15:07:35,951] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 15:07:35,951] [DEBUG] [routes.watermark_routes] Saving watermarked image to: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/ed301130-629c-448d-aaa8-e9f2a431291f_watermarked.png
[2025-06-29 15:07:35,951] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/ed301130-629c-448d-aaa8-e9f2a431291f_watermarked.png
[2025-06-29 15:07:35,952] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 15:07:35,952] [DEBUG] [routes.watermark_routes] Encoding watermarked image to base64...
[2025-06-29 15:07:35,952] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/ed301130-629c-448d-aaa8-e9f2a431291f_watermarked.png
[2025-06-29 15:07:35,952] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 15:07:35,952] [INFO] [routes.watermark_routes] Watermark embedding successful.
[2025-06-29 15:07:35,953] [INFO] [__main__] App context teardown complete.
[2025-06-29 15:07:46,617] [DEBUG] [__main__] Received a new request.
[2025-06-29 15:07:46,617] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 15:07:46,618] [DEBUG] [routes.watermark_routes] Loading watermarked image from request...
[2025-06-29 15:07:46,618] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 15:07:46,620] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (368, 508, 3)
[2025-06-29 15:07:46,620] [DEBUG] [routes.watermark_routes] Extracting bits from DWT band...
[2025-06-29 15:07:46,620] [INFO] [core.dwt_engine] Starting DWT watermark extraction
[2025-06-29 15:07:46,622] [DEBUG] [core.dwt_engine] Extracting from band: LH, shape = (184, 254), total coefficients = 46736
[2025-06-29 15:07:46,622] [DEBUG] [utils.bit_utils] Converted bits to integer: 24
[2025-06-29 15:07:46,622] [DEBUG] [core.dwt_engine] Extracted message length from header: 24
[2025-06-29 15:07:46,622] [INFO] [core.dwt_engine] Watermark extraction complete.
[2025-06-29 15:07:46,623] [DEBUG] [routes.watermark_routes] Converting extracted bits back to string...
[2025-06-29 15:07:46,623] [DEBUG] [utils.bit_utils] Reconstructing string from bits. Bit length = 24
[2025-06-29 15:07:46,623] [DEBUG] [utils.bit_utils] Bits successfully converted to string: 'fgH'
[2025-06-29 15:07:46,623] [INFO] [routes.watermark_routes] Watermark extraction successful.
[2025-06-29 15:07:46,623] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 15:38:31 ==========


========== New Session: 2025-06-29 15:38:31 ==========


========== New Session: 2025-06-29 15:38:31 ==========


========== New Session: 2025-06-29 15:38:31 ==========


========== New Session: 2025-06-29 15:38:31 ==========
[2025-06-29 15:38:31,694] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:38:31,695] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:38:31,696] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 15:38:38 ==========


========== New Session: 2025-06-29 15:38:38 ==========


========== New Session: 2025-06-29 15:38:38 ==========


========== New Session: 2025-06-29 15:38:38 ==========


========== New Session: 2025-06-29 15:38:38 ==========
[2025-06-29 15:38:38,442] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:38:38,442] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:38:38,443] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 15:38:38 ==========


========== New Session: 2025-06-29 15:38:38 ==========


========== New Session: 2025-06-29 15:38:38 ==========


========== New Session: 2025-06-29 15:38:38 ==========


========== New Session: 2025-06-29 15:38:38 ==========
[2025-06-29 15:38:38,626] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:38:38,626] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:38:38,627] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 15:38:57,520] [DEBUG] [__main__] Received a new request.
[2025-06-29 15:38:57,520] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 15:38:57,530] [DEBUG] [routes.watermark_routes] Loading image from request...
[2025-06-29 15:38:57,530] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 15:38:57,570] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (1080, 1920, 3)
[2025-06-29 15:38:57,570] [DEBUG] [routes.watermark_routes] Converting message to bitstream...
[2025-06-29 15:38:57,570] [DEBUG] [utils.bit_utils] Converting string to bits: 'hoil'
[2025-06-29 15:38:57,570] [DEBUG] [utils.bit_utils] String converted to 32 bits.
[2025-06-29 15:38:57,570] [DEBUG] [utils.bit_utils] Adding header for message length: 32 bits
[2025-06-29 15:38:57,570] [DEBUG] [utils.bit_utils] Converted integer 32 to bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0]
[2025-06-29 15:38:57,570] [DEBUG] [utils.bit_utils] Total bitstream length after header = 48
[2025-06-29 15:38:57,570] [DEBUG] [routes.watermark_routes] Embedding bitstream into image using DWT...
[2025-06-29 15:38:57,570] [INFO] [core.dwt_engine] Starting DWT watermark embedding
[2025-06-29 15:38:57,570] [DEBUG] [core.dwt_engine] Image shape for DWT: (1080, 1920, 3)
[2025-06-29 15:38:57,612] [DEBUG] [core.dwt_engine] Embedding into band: LH, shape = (540, 960), coefficients = 518400
[2025-06-29 15:38:57,643] [INFO] [core.dwt_engine] Watermark embedding complete.
[2025-06-29 15:38:57,643] [DEBUG] [routes.watermark_routes] Saving original image to: /home/gowtham/dwt-watermarking/backend/uploads/original/bef12ac5-8dd7-4d76-92fc-cc860594a519_original.png
[2025-06-29 15:38:57,643] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/bef12ac5-8dd7-4d76-92fc-cc860594a519_original.png
[2025-06-29 15:38:57,687] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 15:38:57,687] [DEBUG] [routes.watermark_routes] Saving watermarked image to: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/bef12ac5-8dd7-4d76-92fc-cc860594a519_watermarked.png
[2025-06-29 15:38:57,688] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/bef12ac5-8dd7-4d76-92fc-cc860594a519_watermarked.png
[2025-06-29 15:38:57,731] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 15:38:57,731] [DEBUG] [routes.watermark_routes] Encoding watermarked image to base64...
[2025-06-29 15:38:57,731] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/bef12ac5-8dd7-4d76-92fc-cc860594a519_watermarked.png
[2025-06-29 15:38:57,733] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 15:38:57,733] [INFO] [routes.watermark_routes] Watermark embedding successful.
[2025-06-29 15:38:57,740] [INFO] [__main__] App context teardown complete.
[2025-06-29 15:39:11,644] [DEBUG] [__main__] Received a new request.
[2025-06-29 15:39:11,644] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 15:39:11,652] [DEBUG] [routes.watermark_routes] Loading watermarked image from request...
[2025-06-29 15:39:11,652] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 15:39:11,679] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (1080, 1920, 3)
[2025-06-29 15:39:11,679] [DEBUG] [routes.watermark_routes] Extracting bits from DWT band...
[2025-06-29 15:39:11,679] [INFO] [core.dwt_engine] Starting DWT watermark extraction
[2025-06-29 15:39:11,715] [DEBUG] [core.dwt_engine] Extracting from band: LH, shape = (540, 960), total coefficients = 518400
[2025-06-29 15:39:11,715] [DEBUG] [utils.bit_utils] Converted bits to integer: 0
[2025-06-29 15:39:11,715] [DEBUG] [core.dwt_engine] Extracted message length from header: 0
[2025-06-29 15:39:11,715] [INFO] [core.dwt_engine] Watermark extraction complete.
[2025-06-29 15:39:11,715] [DEBUG] [routes.watermark_routes] Converting extracted bits back to string...
[2025-06-29 15:39:11,715] [DEBUG] [utils.bit_utils] Reconstructing string from bits. Bit length = 0
[2025-06-29 15:39:11,715] [DEBUG] [utils.bit_utils] Bits successfully converted to string: ''
[2025-06-29 15:39:11,715] [INFO] [routes.watermark_routes] Watermark extraction successful.
[2025-06-29 15:39:11,718] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 15:47:04 ==========


========== New Session: 2025-06-29 15:47:04 ==========


========== New Session: 2025-06-29 15:47:04 ==========


========== New Session: 2025-06-29 15:47:04 ==========
[2025-06-29 15:47:04,586] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:47:04,586] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:47:04,587] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 15:47:04 ==========


========== New Session: 2025-06-29 15:47:04 ==========


========== New Session: 2025-06-29 15:47:04 ==========


========== New Session: 2025-06-29 15:47:04 ==========
[2025-06-29 15:47:04,771] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:47:04,771] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:47:04,772] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 15:47:39,319] [DEBUG] [__main__] Received a new request.
[2025-06-29 15:47:39,319] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 15:47:39,324] [DEBUG] [routes.watermark_routes] Loading image from request...
[2025-06-29 15:47:39,324] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 15:47:39,341] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 15:47:39,341] [DEBUG] [routes.watermark_routes] Converting message to bitstream...
[2025-06-29 15:47:39,341] [DEBUG] [utils.bit_utils] Converting string to bits: 'helllo'
[2025-06-29 15:47:39,341] [DEBUG] [utils.bit_utils] String converted to 48 bits.
[2025-06-29 15:47:39,341] [DEBUG] [utils.bit_utils] Adding header for message length: 48 bits
[2025-06-29 15:47:39,342] [DEBUG] [utils.bit_utils] Converted integer 48 to bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0]
[2025-06-29 15:47:39,342] [DEBUG] [utils.bit_utils] Total bitstream length after header = 64
[2025-06-29 15:47:39,342] [DEBUG] [routes.watermark_routes] Embedding bitstream into image using DWT...
[2025-06-29 15:47:39,362] [DEBUG] [routes.watermark_routes] Saving original image to: /home/gowtham/dwt-watermarking/backend/uploads/original/bfc2c6bc-fb5a-41fa-a424-15162ec0b0f8_original.png
[2025-06-29 15:47:39,362] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/bfc2c6bc-fb5a-41fa-a424-15162ec0b0f8_original.png
[2025-06-29 15:47:39,382] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 15:47:39,382] [DEBUG] [routes.watermark_routes] Saving watermarked image to: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/bfc2c6bc-fb5a-41fa-a424-15162ec0b0f8_watermarked.png
[2025-06-29 15:47:39,382] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/bfc2c6bc-fb5a-41fa-a424-15162ec0b0f8_watermarked.png
[2025-06-29 15:47:39,401] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 15:47:39,401] [DEBUG] [routes.watermark_routes] Encoding watermarked image to base64...
[2025-06-29 15:47:39,401] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/bfc2c6bc-fb5a-41fa-a424-15162ec0b0f8_watermarked.png
[2025-06-29 15:47:39,402] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 15:47:39,402] [INFO] [routes.watermark_routes] Watermark embedding successful.
[2025-06-29 15:47:39,406] [INFO] [__main__] App context teardown complete.
[2025-06-29 15:47:55,559] [DEBUG] [__main__] Received a new request.
[2025-06-29 15:47:55,560] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 15:47:55,564] [DEBUG] [routes.watermark_routes] Loading watermarked image from request...
[2025-06-29 15:47:55,564] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 15:47:55,575] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 15:47:55,575] [DEBUG] [routes.watermark_routes] Extracting bits from DWT band...
[2025-06-29 15:47:55,575] [ERROR] [routes.watermark_routes] Watermark extraction failed due to an internal error.
Traceback (most recent call last):
  File "/home/gowtham/dwt-watermarking/backend/routes/watermark_routes.py", line 91, in extract_watermark
    message_bits = extract_bits_from_dwt(image, band='LH')
TypeError: extract_bits_from_dwt() missing 1 required positional argument: 'bit_count'
[2025-06-29 15:47:55,576] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 15:50:30 ==========


========== New Session: 2025-06-29 15:50:30 ==========


========== New Session: 2025-06-29 15:50:30 ==========


========== New Session: 2025-06-29 15:50:30 ==========
[2025-06-29 15:50:30,083] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:50:30,084] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:50:30,085] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 15:50:39 ==========


========== New Session: 2025-06-29 15:50:39 ==========


========== New Session: 2025-06-29 15:50:39 ==========


========== New Session: 2025-06-29 15:50:39 ==========
[2025-06-29 15:50:39,583] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:50:39,584] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:50:39,585] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 15:50:39 ==========


========== New Session: 2025-06-29 15:50:39 ==========


========== New Session: 2025-06-29 15:50:39 ==========


========== New Session: 2025-06-29 15:50:39 ==========
[2025-06-29 15:50:39,768] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:50:39,768] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:50:39,770] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 15:50:46,167] [DEBUG] [__main__] Received a new request.
[2025-06-29 15:50:46,168] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 15:50:46,172] [DEBUG] [routes.watermark_routes] Loading watermarked image from request...
[2025-06-29 15:50:46,172] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 15:50:46,184] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 15:50:46,184] [DEBUG] [routes.watermark_routes] Extracting bits from DWT band...
[2025-06-29 15:50:46,184] [ERROR] [routes.watermark_routes] Watermark extraction failed due to an internal error.
Traceback (most recent call last):
  File "/home/gowtham/dwt-watermarking/backend/routes/watermark_routes.py", line 91, in extract_watermark
    message_bits = extract_bits_from_dwt(image, band='LH')
TypeError: extract_bits_from_dwt() missing 1 required positional argument: 'bit_count'
[2025-06-29 15:50:46,186] [INFO] [__main__] App context teardown complete.
[2025-06-29 15:51:11,565] [DEBUG] [__main__] Received a new request.
[2025-06-29 15:51:11,565] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 15:51:11,570] [DEBUG] [routes.watermark_routes] Loading watermarked image from request...
[2025-06-29 15:51:11,570] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 15:51:11,582] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 15:51:11,582] [DEBUG] [routes.watermark_routes] Extracting bits from DWT band...
[2025-06-29 15:51:11,582] [ERROR] [routes.watermark_routes] Watermark extraction failed due to an internal error.
Traceback (most recent call last):
  File "/home/gowtham/dwt-watermarking/backend/routes/watermark_routes.py", line 91, in extract_watermark
    message_bits = extract_bits_from_dwt(image, band='LH')
TypeError: extract_bits_from_dwt() missing 1 required positional argument: 'bit_count'
[2025-06-29 15:51:11,583] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 15:53:33 ==========


========== New Session: 2025-06-29 15:53:33 ==========


========== New Session: 2025-06-29 15:53:33 ==========


========== New Session: 2025-06-29 15:53:33 ==========
[2025-06-29 15:53:33,897] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:53:33,898] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:53:33,899] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 15:53:38,570] [DEBUG] [__main__] Received a new request.
[2025-06-29 15:53:38,571] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 15:53:38,575] [DEBUG] [routes.watermark_routes] Loading watermarked image from request...
[2025-06-29 15:53:38,575] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 15:53:38,587] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 15:53:38,587] [DEBUG] [routes.watermark_routes] Extracting header from DWT band...
[2025-06-29 15:53:38,601] [DEBUG] [utils.bit_utils] Converted bits to integer: 48
[2025-06-29 15:53:38,601] [DEBUG] [routes.watermark_routes] Extracted message length from header: 48
[2025-06-29 15:53:38,601] [DEBUG] [routes.watermark_routes] Total bits to extract (header + message): 64
[2025-06-29 15:53:38,609] [DEBUG] [routes.watermark_routes] Converting extracted bits back to string...
[2025-06-29 15:53:38,609] [DEBUG] [utils.bit_utils] Reconstructing string from bits. Bit length = 48
[2025-06-29 15:53:38,610] [DEBUG] [utils.bit_utils] Bits successfully converted to string: 'helllo'
[2025-06-29 15:53:38,610] [INFO] [routes.watermark_routes] Watermark extraction successful.
[2025-06-29 15:53:38,610] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 15:53:56 ==========


========== New Session: 2025-06-29 15:53:56 ==========


========== New Session: 2025-06-29 15:53:56 ==========


========== New Session: 2025-06-29 15:53:56 ==========
[2025-06-29 15:53:56,857] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:53:56,858] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:53:56,859] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 15:53:57 ==========


========== New Session: 2025-06-29 15:53:57 ==========


========== New Session: 2025-06-29 15:53:57 ==========


========== New Session: 2025-06-29 15:53:57 ==========
[2025-06-29 15:53:57,043] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:53:57,043] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:53:57,044] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 15:54:15,435] [DEBUG] [__main__] Received a new request.
[2025-06-29 15:54:15,435] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 15:54:15,437] [DEBUG] [routes.watermark_routes] Loading image from request...
[2025-06-29 15:54:15,437] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 15:54:15,465] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (909, 1788, 3)
[2025-06-29 15:54:15,465] [DEBUG] [routes.watermark_routes] Converting message to bitstream...
[2025-06-29 15:54:15,465] [DEBUG] [utils.bit_utils] Converting string to bits: 'gdhdrfgfgthgrth'
[2025-06-29 15:54:15,465] [DEBUG] [utils.bit_utils] String converted to 120 bits.
[2025-06-29 15:54:15,465] [DEBUG] [utils.bit_utils] Adding header for message length: 120 bits
[2025-06-29 15:54:15,465] [DEBUG] [utils.bit_utils] Converted integer 120 to bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0]
[2025-06-29 15:54:15,465] [DEBUG] [utils.bit_utils] Total bitstream length after header = 136
[2025-06-29 15:54:15,465] [DEBUG] [routes.watermark_routes] Embedding bitstream into image using DWT...
[2025-06-29 15:54:15,520] [ERROR] [routes.watermark_routes] Watermark embedding failed due to an internal error.
Traceback (most recent call last):
  File "/home/gowtham/dwt-watermarking/backend/routes/watermark_routes.py", line 47, in embed_watermark
    watermarked_image = embed_bits_in_dwt(image, full_bitstream, band='LH')
  File "/home/gowtham/dwt-watermarking/backend/core/dwt_engine.py", line 50, in embed_bits_in_dwt
    watermarked_ycrcb = cv2.merge([watermarked_Y, Cr, Cb])
cv2.error: OpenCV(4.11.0) /io/opencv/modules/core/src/merge.dispatch.cpp:130: error: (-215:Assertion failed) mv[i].size == mv[0].size && mv[i].depth() == depth in function 'merge'

[2025-06-29 15:54:15,524] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 15:56:01 ==========


========== New Session: 2025-06-29 15:56:01 ==========


========== New Session: 2025-06-29 15:56:01 ==========


========== New Session: 2025-06-29 15:56:01 ==========
[2025-06-29 15:56:01,982] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:56:01,982] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:56:01,982] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 15:56:54 ==========


========== New Session: 2025-06-29 15:56:54 ==========


========== New Session: 2025-06-29 15:56:54 ==========


========== New Session: 2025-06-29 15:56:54 ==========
[2025-06-29 15:56:54,473] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:56:54,473] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:56:54,475] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 15:57:05 ==========


========== New Session: 2025-06-29 15:57:05 ==========


========== New Session: 2025-06-29 15:57:05 ==========


========== New Session: 2025-06-29 15:57:05 ==========
[2025-06-29 15:57:05,760] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:57:05,760] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:57:05,761] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 15:57:54 ==========


========== New Session: 2025-06-29 15:57:54 ==========


========== New Session: 2025-06-29 15:57:54 ==========


========== New Session: 2025-06-29 15:57:54 ==========
[2025-06-29 15:57:54,218] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:57:54,218] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:57:54,219] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 15:58:06 ==========


========== New Session: 2025-06-29 15:58:06 ==========


========== New Session: 2025-06-29 15:58:06 ==========


========== New Session: 2025-06-29 15:58:06 ==========
[2025-06-29 15:58:06,508] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:58:06,508] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:58:06,509] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 15:58:07 ==========


========== New Session: 2025-06-29 15:58:07 ==========


========== New Session: 2025-06-29 15:58:07 ==========


========== New Session: 2025-06-29 15:58:07 ==========
[2025-06-29 15:58:07,736] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:58:07,736] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:58:07,738] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 15:58:30 ==========


========== New Session: 2025-06-29 15:58:30 ==========


========== New Session: 2025-06-29 15:58:30 ==========


========== New Session: 2025-06-29 15:58:30 ==========
[2025-06-29 15:58:30,482] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:58:30,482] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:58:30,483] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 15:58:30 ==========


========== New Session: 2025-06-29 15:58:30 ==========


========== New Session: 2025-06-29 15:58:30 ==========


========== New Session: 2025-06-29 15:58:30 ==========
[2025-06-29 15:58:30,680] [INFO] [__main__] Launching Flask server...
[2025-06-29 15:58:30,680] [INFO] [__main__] Creating Flask app...
[2025-06-29 15:58:30,681] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 15:58:47,055] [DEBUG] [__main__] Received a new request.
[2025-06-29 15:58:47,055] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 15:58:47,060] [DEBUG] [routes.watermark_routes] Loading image from request...
[2025-06-29 15:58:47,060] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 15:58:47,080] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (687, 996, 3)
[2025-06-29 15:58:47,080] [DEBUG] [routes.watermark_routes] Converting message to bitstream...
[2025-06-29 15:58:47,080] [DEBUG] [utils.bit_utils] Converting string to bits: 'ghftt'
[2025-06-29 15:58:47,080] [DEBUG] [utils.bit_utils] String converted to 40 bits.
[2025-06-29 15:58:47,080] [DEBUG] [utils.bit_utils] Adding header for message length: 40 bits
[2025-06-29 15:58:47,080] [DEBUG] [utils.bit_utils] Converted integer 40 to bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0]
[2025-06-29 15:58:47,081] [DEBUG] [utils.bit_utils] Total bitstream length after header = 56
[2025-06-29 15:58:47,081] [DEBUG] [routes.watermark_routes] Embedding bitstream into image using DWT...
[2025-06-29 15:58:47,105] [ERROR] [routes.watermark_routes] Watermark embedding failed due to an internal error.
Traceback (most recent call last):
  File "/home/gowtham/dwt-watermarking/backend/routes/watermark_routes.py", line 47, in embed_watermark
    watermarked_image = embed_bits_in_dwt(image, full_bitstream, band='LH')
  File "/home/gowtham/dwt-watermarking/backend/core/dwt_engine.py", line 58, in embed_bits_in_dwt
    watermarked_ycrcb = cv2.merge([watermarked_Y, Cr, Cb])
cv2.error: OpenCV(4.11.0) /io/opencv/modules/core/src/merge.dispatch.cpp:130: error: (-215:Assertion failed) mv[i].size == mv[0].size && mv[i].depth() == depth in function 'merge'

[2025-06-29 15:58:47,108] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 16:00:05 ==========


========== New Session: 2025-06-29 16:00:05 ==========


========== New Session: 2025-06-29 16:00:05 ==========


========== New Session: 2025-06-29 16:00:05 ==========
[2025-06-29 16:00:05,372] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:00:05,372] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:00:05,374] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 16:00:08 ==========


========== New Session: 2025-06-29 16:00:08 ==========


========== New Session: 2025-06-29 16:00:08 ==========


========== New Session: 2025-06-29 16:00:08 ==========
[2025-06-29 16:00:08,437] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:00:08,437] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:00:08,438] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 16:00:08 ==========


========== New Session: 2025-06-29 16:00:08 ==========


========== New Session: 2025-06-29 16:00:08 ==========


========== New Session: 2025-06-29 16:00:08 ==========
[2025-06-29 16:00:08,623] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:00:08,623] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:00:08,624] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 16:00:28,625] [DEBUG] [__main__] Received a new request.
[2025-06-29 16:00:28,625] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 16:00:28,630] [DEBUG] [routes.watermark_routes] Loading image from request...
[2025-06-29 16:00:28,630] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 16:00:28,647] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 16:00:28,647] [DEBUG] [routes.watermark_routes] Converting message to bitstream...
[2025-06-29 16:00:28,647] [DEBUG] [utils.bit_utils] Converting string to bits: 'gfsdfs'
[2025-06-29 16:00:28,647] [DEBUG] [utils.bit_utils] String converted to 48 bits.
[2025-06-29 16:00:28,647] [DEBUG] [utils.bit_utils] Adding header for message length: 48 bits
[2025-06-29 16:00:28,647] [DEBUG] [utils.bit_utils] Converted integer 48 to bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0]
[2025-06-29 16:00:28,647] [DEBUG] [utils.bit_utils] Total bitstream length after header = 64
[2025-06-29 16:00:28,647] [DEBUG] [routes.watermark_routes] Embedding bitstream into image using DWT...
[2025-06-29 16:00:28,668] [DEBUG] [routes.watermark_routes] Saving original image to: /home/gowtham/dwt-watermarking/backend/uploads/original/1a80f19b-5b07-4fd9-81a7-b750f7f91c60_original.png
[2025-06-29 16:00:28,668] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/1a80f19b-5b07-4fd9-81a7-b750f7f91c60_original.png
[2025-06-29 16:00:28,688] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 16:00:28,689] [DEBUG] [routes.watermark_routes] Saving watermarked image to: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/1a80f19b-5b07-4fd9-81a7-b750f7f91c60_watermarked.png
[2025-06-29 16:00:28,689] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/1a80f19b-5b07-4fd9-81a7-b750f7f91c60_watermarked.png
[2025-06-29 16:00:28,709] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 16:00:28,710] [DEBUG] [routes.watermark_routes] Encoding watermarked image to base64...
[2025-06-29 16:00:28,710] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/1a80f19b-5b07-4fd9-81a7-b750f7f91c60_watermarked.png
[2025-06-29 16:00:28,711] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 16:00:28,711] [INFO] [routes.watermark_routes] Watermark embedding successful.
[2025-06-29 16:00:28,715] [INFO] [__main__] App context teardown complete.
[2025-06-29 16:00:40,278] [DEBUG] [__main__] Received a new request.
[2025-06-29 16:00:40,278] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 16:00:40,284] [DEBUG] [routes.watermark_routes] Loading watermarked image from request...
[2025-06-29 16:00:40,284] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 16:00:40,296] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 16:00:40,296] [DEBUG] [routes.watermark_routes] Extracting header from DWT band...
[2025-06-29 16:00:40,296] [ERROR] [routes.watermark_routes] Watermark extraction failed due to an internal error.
Traceback (most recent call last):
  File "/home/gowtham/dwt-watermarking/backend/routes/watermark_routes.py", line 91, in extract_watermark
    header_bits = extract_bits_from_dwt(image, bit_count=16, band='LH')  # ✅ Step 1
TypeError: extract_bits_from_dwt() got an unexpected keyword argument 'bit_count'
[2025-06-29 16:00:40,297] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 16:02:16 ==========


========== New Session: 2025-06-29 16:02:16 ==========


========== New Session: 2025-06-29 16:02:16 ==========


========== New Session: 2025-06-29 16:02:16 ==========
[2025-06-29 16:02:16,497] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:02:16,497] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:02:16,498] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 16:02:17 ==========


========== New Session: 2025-06-29 16:02:17 ==========


========== New Session: 2025-06-29 16:02:17 ==========


========== New Session: 2025-06-29 16:02:17 ==========
[2025-06-29 16:02:17,721] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:02:17,721] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:02:17,722] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 16:02:18 ==========


========== New Session: 2025-06-29 16:02:18 ==========


========== New Session: 2025-06-29 16:02:18 ==========


========== New Session: 2025-06-29 16:02:18 ==========
[2025-06-29 16:02:18,978] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:02:18,978] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:02:18,979] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 16:02:33 ==========


========== New Session: 2025-06-29 16:02:33 ==========


========== New Session: 2025-06-29 16:02:33 ==========


========== New Session: 2025-06-29 16:02:33 ==========
[2025-06-29 16:02:33,256] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:02:33,256] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:02:33,257] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 16:02:36 ==========


========== New Session: 2025-06-29 16:02:36 ==========


========== New Session: 2025-06-29 16:02:36 ==========


========== New Session: 2025-06-29 16:02:36 ==========
[2025-06-29 16:02:36,520] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:02:36,520] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:02:36,522] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 16:03:02 ==========


========== New Session: 2025-06-29 16:03:02 ==========


========== New Session: 2025-06-29 16:03:02 ==========


========== New Session: 2025-06-29 16:03:02 ==========
[2025-06-29 16:03:02,892] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:03:02,892] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:03:02,893] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 16:03:22 ==========


========== New Session: 2025-06-29 16:03:22 ==========


========== New Session: 2025-06-29 16:03:22 ==========


========== New Session: 2025-06-29 16:03:22 ==========
[2025-06-29 16:03:22,087] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:03:22,087] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:03:22,088] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 16:03:22 ==========


========== New Session: 2025-06-29 16:03:22 ==========


========== New Session: 2025-06-29 16:03:22 ==========


========== New Session: 2025-06-29 16:03:22 ==========
[2025-06-29 16:03:22,273] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:03:22,273] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:03:22,274] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 16:03:38,308] [DEBUG] [__main__] Received a new request.
[2025-06-29 16:03:38,308] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 16:03:38,314] [DEBUG] [routes.watermark_routes] Loading image from request...
[2025-06-29 16:03:38,314] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 16:03:38,331] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 16:03:38,332] [DEBUG] [routes.watermark_routes] Converting message to bitstream...
[2025-06-29 16:03:38,332] [DEBUG] [utils.bit_utils] Converting string to bits: 'sdfasf'
[2025-06-29 16:03:38,332] [DEBUG] [utils.bit_utils] String converted to 48 bits.
[2025-06-29 16:03:38,332] [DEBUG] [utils.bit_utils] Adding header for message length: 48 bits
[2025-06-29 16:03:38,332] [DEBUG] [utils.bit_utils] Converted integer 48 to bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0]
[2025-06-29 16:03:38,332] [DEBUG] [utils.bit_utils] Total bitstream length after header = 64
[2025-06-29 16:03:38,332] [DEBUG] [routes.watermark_routes] Embedding bitstream into image using DWT...
[2025-06-29 16:03:38,354] [DEBUG] [routes.watermark_routes] Saving original image to: /home/gowtham/dwt-watermarking/backend/uploads/original/87aa7837-8d32-4600-b30c-ee84b35b1e65_original.png
[2025-06-29 16:03:38,354] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/87aa7837-8d32-4600-b30c-ee84b35b1e65_original.png
[2025-06-29 16:03:38,374] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 16:03:38,374] [DEBUG] [routes.watermark_routes] Saving watermarked image to: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/87aa7837-8d32-4600-b30c-ee84b35b1e65_watermarked.png
[2025-06-29 16:03:38,374] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/87aa7837-8d32-4600-b30c-ee84b35b1e65_watermarked.png
[2025-06-29 16:03:38,395] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 16:03:38,395] [DEBUG] [routes.watermark_routes] Encoding watermarked image to base64...
[2025-06-29 16:03:38,395] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/87aa7837-8d32-4600-b30c-ee84b35b1e65_watermarked.png
[2025-06-29 16:03:38,397] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 16:03:38,397] [INFO] [routes.watermark_routes] Watermark embedding successful.
[2025-06-29 16:03:38,401] [INFO] [__main__] App context teardown complete.
[2025-06-29 16:03:49,970] [DEBUG] [__main__] Received a new request.
[2025-06-29 16:03:49,970] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 16:03:49,975] [DEBUG] [routes.watermark_routes] Loading watermarked image from request...
[2025-06-29 16:03:49,975] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 16:03:49,986] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 16:03:49,986] [DEBUG] [routes.watermark_routes] Image loaded. Shape = (840, 700, 3)
[2025-06-29 16:03:49,986] [DEBUG] [routes.watermark_routes] Extracting bits from DWT band...
[2025-06-29 16:03:49,998] [DEBUG] [utils.bit_utils] Converted bits to integer: 0
[2025-06-29 16:03:49,998] [DEBUG] [routes.watermark_routes] Bitstream length (message only): 0 bits
[2025-06-29 16:03:49,998] [DEBUG] [routes.watermark_routes] Converting extracted bits back to string...
[2025-06-29 16:03:49,998] [DEBUG] [utils.bit_utils] Reconstructing string from bits. Bit length = 0
[2025-06-29 16:03:49,998] [DEBUG] [utils.bit_utils] Bits successfully converted to string: ''
[2025-06-29 16:03:49,998] [DEBUG] [routes.watermark_routes] Extracted message: ''
[2025-06-29 16:03:49,998] [INFO] [routes.watermark_routes] Watermark extraction successful.
[2025-06-29 16:03:49,999] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 16:06:04 ==========


========== New Session: 2025-06-29 16:06:04 ==========


========== New Session: 2025-06-29 16:06:04 ==========


========== New Session: 2025-06-29 16:06:04 ==========
[2025-06-29 16:06:04,364] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:06:04,364] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:06:04,365] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 16:06:08 ==========


========== New Session: 2025-06-29 16:06:08 ==========


========== New Session: 2025-06-29 16:06:08 ==========


========== New Session: 2025-06-29 16:06:08 ==========
[2025-06-29 16:06:08,711] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:06:08,712] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:06:08,713] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 16:06:08 ==========


========== New Session: 2025-06-29 16:06:08 ==========


========== New Session: 2025-06-29 16:06:08 ==========


========== New Session: 2025-06-29 16:06:08 ==========
[2025-06-29 16:06:08,895] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:06:08,895] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:06:08,896] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 16:06:21,721] [DEBUG] [__main__] Received a new request.
[2025-06-29 16:06:21,721] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 16:06:21,725] [DEBUG] [routes.watermark_routes] Loading image from request...
[2025-06-29 16:06:21,725] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 16:06:21,743] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 16:06:21,743] [DEBUG] [routes.watermark_routes] Converting message to bitstream...
[2025-06-29 16:06:21,743] [DEBUG] [utils.bit_utils] Converting string to bits: 'xgvzdfsv'
[2025-06-29 16:06:21,743] [DEBUG] [utils.bit_utils] String converted to 64 bits.
[2025-06-29 16:06:21,743] [DEBUG] [utils.bit_utils] Adding header for message length: 64 bits
[2025-06-29 16:06:21,743] [DEBUG] [utils.bit_utils] Converted integer 64 to bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0]
[2025-06-29 16:06:21,743] [DEBUG] [utils.bit_utils] Total bitstream length after header = 80
[2025-06-29 16:06:21,743] [DEBUG] [routes.watermark_routes] Embedding bitstream into image using DWT...
[2025-06-29 16:06:21,765] [DEBUG] [routes.watermark_routes] Saving original image to: /home/gowtham/dwt-watermarking/backend/uploads/original/7bb900f3-de6f-4532-a71c-011d5090b970_original.png
[2025-06-29 16:06:21,766] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/7bb900f3-de6f-4532-a71c-011d5090b970_original.png
[2025-06-29 16:06:21,786] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 16:06:21,786] [DEBUG] [routes.watermark_routes] Saving watermarked image to: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/7bb900f3-de6f-4532-a71c-011d5090b970_watermarked.png
[2025-06-29 16:06:21,786] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/7bb900f3-de6f-4532-a71c-011d5090b970_watermarked.png
[2025-06-29 16:06:21,807] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 16:06:21,807] [DEBUG] [routes.watermark_routes] Encoding watermarked image to base64...
[2025-06-29 16:06:21,807] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/7bb900f3-de6f-4532-a71c-011d5090b970_watermarked.png
[2025-06-29 16:06:21,808] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 16:06:21,808] [INFO] [routes.watermark_routes] Watermark embedding successful.
[2025-06-29 16:06:21,812] [INFO] [__main__] App context teardown complete.
[2025-06-29 16:06:33,856] [DEBUG] [__main__] Received a new request.
[2025-06-29 16:06:33,856] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 16:06:33,862] [DEBUG] [routes.watermark_routes] Loading watermarked image from request...
[2025-06-29 16:06:33,862] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 16:06:33,872] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 16:06:33,873] [DEBUG] [routes.watermark_routes] Image loaded. Shape = (840, 700, 3)
[2025-06-29 16:06:33,873] [DEBUG] [routes.watermark_routes] Extracting bits from DWT band...
[2025-06-29 16:06:33,888] [DEBUG] [utils.bit_utils] Converted bits to integer: 0
[2025-06-29 16:06:33,889] [DEBUG] [routes.watermark_routes] Bitstream length (message only): 0 bits
[2025-06-29 16:06:33,889] [DEBUG] [routes.watermark_routes] Converting extracted bits back to string...
[2025-06-29 16:06:33,889] [DEBUG] [utils.bit_utils] Reconstructing string from bits. Bit length = 0
[2025-06-29 16:06:33,889] [DEBUG] [utils.bit_utils] Bits successfully converted to string: ''
[2025-06-29 16:06:33,889] [DEBUG] [routes.watermark_routes] Extracted message: ''
[2025-06-29 16:06:33,889] [INFO] [routes.watermark_routes] Watermark extraction successful.
[2025-06-29 16:06:33,890] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 16:09:58 ==========


========== New Session: 2025-06-29 16:09:58 ==========


========== New Session: 2025-06-29 16:09:58 ==========


========== New Session: 2025-06-29 16:09:58 ==========
[2025-06-29 16:09:58,929] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:09:58,930] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:09:58,931] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 16:09:59 ==========


========== New Session: 2025-06-29 16:09:59 ==========


========== New Session: 2025-06-29 16:09:59 ==========


========== New Session: 2025-06-29 16:09:59 ==========
[2025-06-29 16:09:59,114] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:09:59,114] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:09:59,115] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 16:10:17 ==========


========== New Session: 2025-06-29 16:10:17 ==========


========== New Session: 2025-06-29 16:10:17 ==========


========== New Session: 2025-06-29 16:10:17 ==========
[2025-06-29 16:10:17,432] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:10:17,432] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:10:17,433] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 16:10:20 ==========


========== New Session: 2025-06-29 16:10:20 ==========


========== New Session: 2025-06-29 16:10:20 ==========


========== New Session: 2025-06-29 16:10:20 ==========
[2025-06-29 16:10:20,616] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:10:20,617] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:10:20,618] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 16:10:20 ==========


========== New Session: 2025-06-29 16:10:20 ==========


========== New Session: 2025-06-29 16:10:20 ==========


========== New Session: 2025-06-29 16:10:20 ==========
[2025-06-29 16:10:20,802] [INFO] [__main__] Launching Flask server...
[2025-06-29 16:10:20,802] [INFO] [__main__] Creating Flask app...
[2025-06-29 16:10:20,804] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 16:10:38,028] [DEBUG] [__main__] Received a new request.
[2025-06-29 16:10:38,028] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 16:10:38,031] [DEBUG] [routes.watermark_routes] Loading image from request...
[2025-06-29 16:10:38,031] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 16:10:38,048] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 16:10:38,048] [DEBUG] [routes.watermark_routes] Converting message to bitstream...
[2025-06-29 16:10:38,048] [DEBUG] [utils.bit_utils] Converting string to bits: 'gasdfa'
[2025-06-29 16:10:38,048] [DEBUG] [utils.bit_utils] String converted to 48 bits.
[2025-06-29 16:10:38,048] [DEBUG] [utils.bit_utils] Adding header for message length: 48 bits
[2025-06-29 16:10:38,048] [DEBUG] [utils.bit_utils] Converted integer 48 to bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0]
[2025-06-29 16:10:38,048] [DEBUG] [utils.bit_utils] Total bitstream length after header = 64
[2025-06-29 16:10:38,048] [DEBUG] [routes.watermark_routes] Embedding bitstream into image using DWT...
[2025-06-29 16:10:38,072] [DEBUG] [routes.watermark_routes] Saving original image to: /home/gowtham/dwt-watermarking/backend/uploads/original/f0230122-0c64-48f9-9c66-efe59281f431_original.png
[2025-06-29 16:10:38,072] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/f0230122-0c64-48f9-9c66-efe59281f431_original.png
[2025-06-29 16:10:38,092] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 16:10:38,092] [DEBUG] [routes.watermark_routes] Saving watermarked image to: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/f0230122-0c64-48f9-9c66-efe59281f431_watermarked.png
[2025-06-29 16:10:38,092] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/f0230122-0c64-48f9-9c66-efe59281f431_watermarked.png
[2025-06-29 16:10:38,112] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 16:10:38,112] [DEBUG] [routes.watermark_routes] Encoding watermarked image to base64...
[2025-06-29 16:10:38,112] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/f0230122-0c64-48f9-9c66-efe59281f431_watermarked.png
[2025-06-29 16:10:38,113] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 16:10:38,113] [INFO] [routes.watermark_routes] Watermark embedding successful.
[2025-06-29 16:10:38,117] [INFO] [__main__] App context teardown complete.
[2025-06-29 16:10:47,691] [DEBUG] [__main__] Received a new request.
[2025-06-29 16:10:47,691] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 16:10:47,696] [DEBUG] [routes.watermark_routes] Loading watermarked image from request...
[2025-06-29 16:10:47,696] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 16:10:47,707] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 16:10:47,707] [DEBUG] [routes.watermark_routes] Image loaded. Shape = (840, 700, 3)
[2025-06-29 16:10:47,707] [DEBUG] [routes.watermark_routes] Extracting bits from DWT band...
[2025-06-29 16:10:47,719] [DEBUG] [utils.bit_utils] Converted bits to integer: 0
[2025-06-29 16:10:47,719] [ERROR] [routes.watermark_routes] Watermark extraction failed due to an internal error.
Traceback (most recent call last):
  File "/home/gowtham/dwt-watermarking/backend/routes/watermark_routes.py", line 93, in extract_watermark
    message_length = extract_message_length(full_bitstream)
  File "/home/gowtham/dwt-watermarking/backend/core/dwt_engine.py", line 86, in extract_message_length
    message_length = bits_to_int(header_bits)
  File "/home/gowtham/dwt-watermarking/backend/utils/bit_utils.py", line 42, in bits_to_int
    value = int("".join(str(b) for b in bits), 2)
ValueError: invalid literal for int() with base 2: ''
[2025-06-29 16:10:47,720] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 17:48:16 ==========


========== New Session: 2025-06-29 17:48:16 ==========


========== New Session: 2025-06-29 17:48:16 ==========


========== New Session: 2025-06-29 17:48:16 ==========
[2025-06-29 17:48:16,493] [INFO] [__main__] Launching Flask server...
[2025-06-29 17:48:16,493] [INFO] [__main__] Creating Flask app...
[2025-06-29 17:48:16,495] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 17:48:31 ==========


========== New Session: 2025-06-29 17:48:31 ==========


========== New Session: 2025-06-29 17:48:31 ==========


========== New Session: 2025-06-29 17:48:31 ==========
[2025-06-29 17:48:31,825] [INFO] [__main__] Launching Flask server...
[2025-06-29 17:48:31,825] [INFO] [__main__] Creating Flask app...
[2025-06-29 17:48:31,826] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 17:49:34 ==========


========== New Session: 2025-06-29 17:49:34 ==========


========== New Session: 2025-06-29 17:49:34 ==========


========== New Session: 2025-06-29 17:49:34 ==========
[2025-06-29 17:49:34,379] [INFO] [__main__] Launching Flask server...
[2025-06-29 17:49:34,379] [INFO] [__main__] Creating Flask app...
[2025-06-29 17:49:34,380] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 17:50:16 ==========


========== New Session: 2025-06-29 17:50:16 ==========


========== New Session: 2025-06-29 17:50:16 ==========


========== New Session: 2025-06-29 17:50:16 ==========
[2025-06-29 17:50:16,316] [INFO] [__main__] Launching Flask server...
[2025-06-29 17:50:16,316] [INFO] [__main__] Creating Flask app...
[2025-06-29 17:50:16,317] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 17:50:16 ==========


========== New Session: 2025-06-29 17:50:16 ==========


========== New Session: 2025-06-29 17:50:16 ==========


========== New Session: 2025-06-29 17:50:16 ==========
[2025-06-29 17:50:16,505] [INFO] [__main__] Launching Flask server...
[2025-06-29 17:50:16,505] [INFO] [__main__] Creating Flask app...
[2025-06-29 17:50:16,506] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 17:50:33,948] [DEBUG] [__main__] Received a new request.
[2025-06-29 17:50:33,948] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 17:50:33,953] [DEBUG] [routes.watermark_routes] Loading image for embedding...
[2025-06-29 17:50:33,953] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 17:50:33,970] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 17:50:33,970] [DEBUG] [routes.watermark_routes] Converting message to bits and adding header...
[2025-06-29 17:50:33,970] [DEBUG] [utils.bit_utils] Converting string to bits: 'gvasf'
[2025-06-29 17:50:33,970] [DEBUG] [utils.bit_utils] String converted to 40 bits.
[2025-06-29 17:50:33,970] [DEBUG] [utils.bit_utils] Preparing header for message length: 40 bits
[2025-06-29 17:50:33,970] [DEBUG] [utils.bit_utils] Converted integer 40 to 16-bit header: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0]
[2025-06-29 17:50:33,970] [DEBUG] [utils.bit_utils] Total bitstream length after header = 56 bits
[2025-06-29 17:50:33,970] [DEBUG] [routes.watermark_routes] Embedding 56 bits into image...
[2025-06-29 17:50:33,991] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/60c8e321e5e14979b912358429487873_orig.png
[2025-06-29 17:50:34,010] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 17:50:34,010] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/60c8e321e5e14979b912358429487873_wm.png
[2025-06-29 17:50:34,029] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 17:50:34,029] [INFO] [routes.watermark_routes] Embedding successful, encoding to base64...
[2025-06-29 17:50:34,029] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/60c8e321e5e14979b912358429487873_wm.png
[2025-06-29 17:50:34,030] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 17:50:34,030] [INFO] [routes.watermark_routes] POST /watermark completed successfully.
[2025-06-29 17:50:34,034] [INFO] [__main__] App context teardown complete.
[2025-06-29 17:50:41,790] [DEBUG] [__main__] Received a new request.
[2025-06-29 17:50:41,791] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 17:50:41,795] [DEBUG] [routes.watermark_routes] Loading watermarked image for extraction...
[2025-06-29 17:50:41,796] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 17:50:41,806] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 17:50:41,807] [DEBUG] [routes.watermark_routes] Extracting full bitstream from image...
[2025-06-29 17:50:42,059] [DEBUG] [routes.watermark_routes] Parsing header and message bits...
[2025-06-29 17:50:42,059] [DEBUG] [utils.bit_utils] Converted bits to integer: 0
[2025-06-29 17:50:42,059] [DEBUG] [utils.bit_utils] Extracted header: message_length = 0 bits
[2025-06-29 17:50:42,059] [DEBUG] [routes.watermark_routes] Message length from header: 0 bits
[2025-06-29 17:50:42,059] [DEBUG] [routes.watermark_routes] Converting message bits to string...
[2025-06-29 17:50:42,059] [DEBUG] [utils.bit_utils] Reconstructing string from bits. Bit length = 0
[2025-06-29 17:50:42,059] [DEBUG] [utils.bit_utils] Bits successfully converted to string: ''
[2025-06-29 17:50:42,059] [INFO] [routes.watermark_routes] POST /extract completed successfully.
[2025-06-29 17:50:42,060] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 19:16:47 ==========


========== New Session: 2025-06-29 19:16:47 ==========


========== New Session: 2025-06-29 19:16:47 ==========


========== New Session: 2025-06-29 19:16:47 ==========
[2025-06-29 19:16:47,926] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:16:47,926] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:16:47,928] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 19:16:50 ==========


========== New Session: 2025-06-29 19:16:50 ==========


========== New Session: 2025-06-29 19:23:06 ==========


========== New Session: 2025-06-29 19:23:06 ==========


========== New Session: 2025-06-29 19:23:06 ==========


========== New Session: 2025-06-29 19:23:06 ==========
[2025-06-29 19:23:06,555] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:23:06,555] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:23:06,556] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 19:23:06 ==========


========== New Session: 2025-06-29 19:23:06 ==========


========== New Session: 2025-06-29 19:23:06 ==========


========== New Session: 2025-06-29 19:23:06 ==========
[2025-06-29 19:23:06,734] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:23:06,735] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:23:06,736] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 19:23:18,228] [DEBUG] [__main__] Received a new request.
[2025-06-29 19:23:18,228] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 19:23:18,233] [DEBUG] [routes.watermark_routes] Loading image for embedding...
[2025-06-29 19:23:18,233] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 19:23:18,250] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 19:23:18,250] [DEBUG] [routes.watermark_routes] Converting message to bits and adding header...
[2025-06-29 19:23:18,250] [DEBUG] [utils.bit_utils] Converting string to bits: 'gbnsdgs'
[2025-06-29 19:23:18,250] [DEBUG] [utils.bit_utils] String converted to 56 bits.
[2025-06-29 19:23:18,250] [DEBUG] [utils.bit_utils] Preparing header for message length: 56 bits
[2025-06-29 19:23:18,250] [DEBUG] [utils.bit_utils] Converted integer 56 to 16-bit header: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0]
[2025-06-29 19:23:18,250] [DEBUG] [utils.bit_utils] Total bitstream length after header = 72 bits
[2025-06-29 19:23:18,250] [DEBUG] [routes.watermark_routes] Embedding 72 bits into image...
[2025-06-29 19:23:18,274] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/2c88e94d7e544e3ba8786635b7700d15_orig.png
[2025-06-29 19:23:18,294] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 19:23:18,295] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/2c88e94d7e544e3ba8786635b7700d15_wm.png
[2025-06-29 19:23:18,314] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 19:23:18,314] [INFO] [routes.watermark_routes] Embedding successful, encoding to base64...
[2025-06-29 19:23:18,314] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/2c88e94d7e544e3ba8786635b7700d15_wm.png
[2025-06-29 19:23:18,315] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 19:23:18,315] [INFO] [routes.watermark_routes] POST /watermark completed successfully.
[2025-06-29 19:23:18,320] [INFO] [__main__] App context teardown complete.
[2025-06-29 19:23:27,345] [DEBUG] [__main__] Received a new request.
[2025-06-29 19:23:27,345] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 19:23:27,350] [DEBUG] [routes.watermark_routes] Loading watermarked image for extraction...
[2025-06-29 19:23:27,351] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 19:23:27,361] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 19:23:27,362] [DEBUG] [routes.watermark_routes] Extracting full bitstream from image...
[2025-06-29 19:23:27,623] [DEBUG] [routes.watermark_routes] First 32 bits extracted: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
[2025-06-29 19:23:27,623] [DEBUG] [routes.watermark_routes] Total bits extracted: 147000
[2025-06-29 19:23:27,623] [DEBUG] [routes.watermark_routes] Parsing header and message bits...
[2025-06-29 19:23:27,623] [DEBUG] [utils.bit_utils] Extracted header bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
[2025-06-29 19:23:27,624] [DEBUG] [utils.bit_utils] Converted bits to integer: 0
[2025-06-29 19:23:27,624] [DEBUG] [utils.bit_utils] Message length from header: 0
[2025-06-29 19:23:27,624] [DEBUG] [utils.bit_utils] Extracted header: message_length = 0 bits
[2025-06-29 19:23:27,624] [DEBUG] [routes.watermark_routes] Message length from header: 0 bits
[2025-06-29 19:23:27,624] [DEBUG] [routes.watermark_routes] Converting message bits to string...
[2025-06-29 19:23:27,624] [DEBUG] [utils.bit_utils] Reconstructing string from bits. Bit length = 0
[2025-06-29 19:23:27,624] [DEBUG] [utils.bit_utils] Bits successfully converted to string: ''
[2025-06-29 19:23:27,624] [INFO] [routes.watermark_routes] POST /extract completed successfully.
[2025-06-29 19:23:27,625] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 19:32:01 ==========


========== New Session: 2025-06-29 19:32:01 ==========


========== New Session: 2025-06-29 19:32:01 ==========


========== New Session: 2025-06-29 19:32:01 ==========
[2025-06-29 19:32:01,848] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:32:01,848] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:32:01,849] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 19:32:16 ==========


========== New Session: 2025-06-29 19:32:16 ==========


========== New Session: 2025-06-29 19:32:16 ==========


========== New Session: 2025-06-29 19:32:16 ==========
[2025-06-29 19:32:16,654] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:32:16,654] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:32:16,655] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 19:32:16 ==========


========== New Session: 2025-06-29 19:32:16 ==========


========== New Session: 2025-06-29 19:32:16 ==========


========== New Session: 2025-06-29 19:32:16 ==========
[2025-06-29 19:32:16,841] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:32:16,841] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:32:16,842] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 19:32:36,059] [DEBUG] [__main__] Received a new request.
[2025-06-29 19:32:36,059] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 19:32:36,064] [DEBUG] [routes.watermark_routes] Loading image for embedding...
[2025-06-29 19:32:36,064] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 19:32:36,082] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 19:32:36,083] [DEBUG] [routes.watermark_routes] Converting message to bits and adding header...
[2025-06-29 19:32:36,083] [DEBUG] [utils.bit_utils] Converting string to bits: 'dfsdfsae'
[2025-06-29 19:32:36,083] [DEBUG] [utils.bit_utils] String converted to 64 bits.
[2025-06-29 19:32:36,083] [DEBUG] [utils.bit_utils] Preparing header for message length: 64 bits
[2025-06-29 19:32:36,083] [DEBUG] [utils.bit_utils] Converted integer 64 to 16-bit header: [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0]
[2025-06-29 19:32:36,083] [DEBUG] [utils.bit_utils] Total bitstream length after header = 80 bits
[2025-06-29 19:32:36,083] [DEBUG] [routes.watermark_routes] Embedding 80 bits into image...
[2025-06-29 19:32:36,106] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/ac4971cb595b4eedb22d54bffa28542c_orig.png
[2025-06-29 19:32:36,127] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 19:32:36,127] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/ac4971cb595b4eedb22d54bffa28542c_wm.png
[2025-06-29 19:32:36,146] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 19:32:36,147] [INFO] [routes.watermark_routes] Embedding successful, encoding to base64...
[2025-06-29 19:32:36,147] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/ac4971cb595b4eedb22d54bffa28542c_wm.png
[2025-06-29 19:32:36,148] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 19:32:36,148] [INFO] [routes.watermark_routes] POST /watermark completed successfully.
[2025-06-29 19:32:36,152] [INFO] [__main__] App context teardown complete.
[2025-06-29 19:32:45,447] [DEBUG] [__main__] Received a new request.
[2025-06-29 19:32:45,447] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 19:32:45,452] [DEBUG] [routes.watermark_routes] Loading watermarked image for extraction...
[2025-06-29 19:32:45,453] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 19:32:45,463] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 19:32:45,463] [DEBUG] [routes.watermark_routes] Extracting full bitstream from image...
[2025-06-29 19:32:45,720] [DEBUG] [routes.watermark_routes] First 32 bits extracted: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
[2025-06-29 19:32:45,720] [DEBUG] [routes.watermark_routes] Total bits extracted: 147000
[2025-06-29 19:32:45,720] [DEBUG] [routes.watermark_routes] Parsing header and message bits...
[2025-06-29 19:32:45,720] [DEBUG] [utils.bit_utils] Extracted header bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
[2025-06-29 19:32:45,720] [DEBUG] [utils.bit_utils] Converted bits to integer: 0
[2025-06-29 19:32:45,720] [DEBUG] [utils.bit_utils] Message length from header: 0
[2025-06-29 19:32:45,720] [DEBUG] [utils.bit_utils] Extracted header: message_length = 0 bits
[2025-06-29 19:32:45,720] [DEBUG] [routes.watermark_routes] Message length from header: 0 bits
[2025-06-29 19:32:45,720] [DEBUG] [routes.watermark_routes] Converting message bits to string...
[2025-06-29 19:32:45,720] [DEBUG] [utils.bit_utils] Reconstructing string from bits. Bit length = 0
[2025-06-29 19:32:45,720] [DEBUG] [utils.bit_utils] Bits successfully converted to string: ''
[2025-06-29 19:32:45,720] [INFO] [routes.watermark_routes] POST /extract completed successfully.
[2025-06-29 19:32:45,721] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 19:33:49 ==========


========== New Session: 2025-06-29 19:33:49 ==========


========== New Session: 2025-06-29 19:33:49 ==========


========== New Session: 2025-06-29 19:33:49 ==========
[2025-06-29 19:33:49,534] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:33:49,534] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:33:49,535] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 19:33:50 ==========


========== New Session: 2025-06-29 19:33:50 ==========


========== New Session: 2025-06-29 19:34:09 ==========


========== New Session: 2025-06-29 19:34:09 ==========


========== New Session: 2025-06-29 19:34:09 ==========


========== New Session: 2025-06-29 19:34:09 ==========
[2025-06-29 19:34:09,363] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:34:09,364] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:34:09,365] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 19:34:09 ==========


========== New Session: 2025-06-29 19:34:09 ==========


========== New Session: 2025-06-29 19:34:09 ==========


========== New Session: 2025-06-29 19:34:09 ==========
[2025-06-29 19:34:09,546] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:34:09,546] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:34:09,548] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 19:34:23,348] [DEBUG] [__main__] Received a new request.
[2025-06-29 19:34:23,349] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 19:34:23,353] [DEBUG] [routes.watermark_routes] Loading image for embedding...
[2025-06-29 19:34:23,353] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 19:34:23,370] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 19:34:23,370] [DEBUG] [routes.watermark_routes] Converting message to bits and adding header...
[2025-06-29 19:34:23,370] [DEBUG] [utils.bit_utils] Converting string to bits: 'sfgasd'
[2025-06-29 19:34:23,370] [DEBUG] [utils.bit_utils] String converted to 48 bits.
[2025-06-29 19:34:23,371] [DEBUG] [utils.bit_utils] Preparing header for message length: 48 bits
[2025-06-29 19:34:23,371] [DEBUG] [utils.bit_utils] Converted integer 48 to 16-bit header: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0]
[2025-06-29 19:34:23,371] [DEBUG] [utils.bit_utils] Total bitstream length after header = 64 bits
[2025-06-29 19:34:23,371] [DEBUG] [routes.watermark_routes] Embedding 64 bits into image...
[2025-06-29 19:34:23,393] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/bac3728911a44ef7800d4149a65e6fb8_orig.png
[2025-06-29 19:34:23,413] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 19:34:23,413] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/bac3728911a44ef7800d4149a65e6fb8_wm.png
[2025-06-29 19:34:23,433] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 19:34:23,433] [INFO] [routes.watermark_routes] Embedding successful, encoding to base64...
[2025-06-29 19:34:23,433] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/bac3728911a44ef7800d4149a65e6fb8_wm.png
[2025-06-29 19:34:23,435] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 19:34:23,435] [INFO] [routes.watermark_routes] POST /watermark completed successfully.
[2025-06-29 19:34:23,439] [INFO] [__main__] App context teardown complete.
[2025-06-29 19:34:30,642] [DEBUG] [__main__] Received a new request.
[2025-06-29 19:34:30,642] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 19:34:30,647] [DEBUG] [routes.watermark_routes] Loading watermarked image for extraction...
[2025-06-29 19:34:30,648] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 19:34:30,659] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 19:34:30,659] [DEBUG] [routes.watermark_routes] Extracting full bitstream from image...
[2025-06-29 19:34:30,915] [DEBUG] [routes.watermark_routes] First 32 bits extracted: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
[2025-06-29 19:34:30,915] [DEBUG] [routes.watermark_routes] Total bits extracted: 147000
[2025-06-29 19:34:30,915] [DEBUG] [routes.watermark_routes] Parsing header and message bits...
[2025-06-29 19:34:30,915] [DEBUG] [utils.bit_utils] Extracted header bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
[2025-06-29 19:34:30,915] [DEBUG] [utils.bit_utils] Converted bits to integer: 0
[2025-06-29 19:34:30,915] [DEBUG] [utils.bit_utils] Message length from header: 0
[2025-06-29 19:34:30,915] [DEBUG] [utils.bit_utils] Extracted header: message_length = 0 bits
[2025-06-29 19:34:30,915] [DEBUG] [routes.watermark_routes] Message length from header: 0 bits
[2025-06-29 19:34:30,915] [DEBUG] [routes.watermark_routes] Converting message bits to string...
[2025-06-29 19:34:30,915] [DEBUG] [utils.bit_utils] Reconstructing string from bits. Bit length = 0
[2025-06-29 19:34:30,915] [DEBUG] [utils.bit_utils] Bits successfully converted to string: ''
[2025-06-29 19:34:30,915] [INFO] [routes.watermark_routes] POST /extract completed successfully.
[2025-06-29 19:34:30,916] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 19:37:27 ==========


========== New Session: 2025-06-29 19:37:27 ==========


========== New Session: 2025-06-29 19:38:40 ==========


========== New Session: 2025-06-29 19:38:40 ==========


========== New Session: 2025-06-29 19:38:40 ==========


========== New Session: 2025-06-29 19:38:40 ==========


========== New Session: 2025-06-29 19:38:40 ==========
[2025-06-29 19:38:40,128] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:38:40,128] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:38:40,130] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 19:38:40 ==========


========== New Session: 2025-06-29 19:38:40 ==========


========== New Session: 2025-06-29 19:38:40 ==========


========== New Session: 2025-06-29 19:38:40 ==========


========== New Session: 2025-06-29 19:38:40 ==========
[2025-06-29 19:38:40,317] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:38:40,317] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:38:40,319] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 19:38:54,472] [DEBUG] [__main__] Received a new request.
[2025-06-29 19:38:54,473] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 19:38:54,478] [DEBUG] [routes.watermark_routes] Loading image for embedding...
[2025-06-29 19:38:54,478] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 19:38:54,494] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 19:38:54,495] [DEBUG] [routes.watermark_routes] Converting message to bits and adding header...
[2025-06-29 19:38:54,495] [DEBUG] [utils.bit_utils] Converting string to bits: 'rgeasr'
[2025-06-29 19:38:54,495] [DEBUG] [utils.bit_utils] String converted to 48 bits.
[2025-06-29 19:38:54,495] [DEBUG] [utils.bit_utils] Preparing header for message length: 48 bits
[2025-06-29 19:38:54,495] [DEBUG] [utils.bit_utils] Converted integer 48 to 16-bit header: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0]
[2025-06-29 19:38:54,495] [DEBUG] [utils.bit_utils] Total bitstream length after header = 64 bits
[2025-06-29 19:38:54,495] [DEBUG] [routes.watermark_routes] Embedding 64 bits into image...
[2025-06-29 19:38:54,508] [DEBUG] [core.dwt_engine] Embedding into band: LH
[2025-06-29 19:38:54,508] [DEBUG] [core.dwt_engine] First 16 header bits to embed: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0]
[2025-06-29 19:38:54,508] [DEBUG] [core.dwt_engine] Total bits to embed: 64
[2025-06-29 19:38:54,509] [DEBUG] [core.dwt_engine] Parity check after embed: 64 bits recovered, 0 mismatches
[2025-06-29 19:38:54,510] [DEBUG] [core.dwt_engine] Parity check after embed: 64 bits recovered, 0 mismatches
[2025-06-29 19:38:54,517] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/54d4d4c202df407d81c2e96135b82ef4_orig.png
[2025-06-29 19:38:54,537] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 19:38:54,537] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/54d4d4c202df407d81c2e96135b82ef4_wm.png
[2025-06-29 19:38:54,557] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 19:38:54,557] [INFO] [routes.watermark_routes] Embedding successful, encoding to base64...
[2025-06-29 19:38:54,557] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/54d4d4c202df407d81c2e96135b82ef4_wm.png
[2025-06-29 19:38:54,558] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 19:38:54,558] [INFO] [routes.watermark_routes] POST /watermark completed successfully.
[2025-06-29 19:38:54,562] [INFO] [__main__] App context teardown complete.
[2025-06-29 19:39:01,230] [DEBUG] [__main__] Received a new request.
[2025-06-29 19:39:01,230] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 19:39:01,235] [DEBUG] [routes.watermark_routes] Loading watermarked image for extraction...
[2025-06-29 19:39:01,235] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 19:39:01,246] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 19:39:01,246] [DEBUG] [routes.watermark_routes] Extracting full bitstream from image...
[2025-06-29 19:39:01,499] [DEBUG] [core.dwt_engine] Extracted first 32 bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
[2025-06-29 19:39:01,499] [DEBUG] [core.dwt_engine] Total bits extracted: 147000
[2025-06-29 19:39:01,499] [DEBUG] [routes.watermark_routes] First 32 bits extracted: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
[2025-06-29 19:39:01,499] [DEBUG] [routes.watermark_routes] Total bits extracted: 147000
[2025-06-29 19:39:01,499] [DEBUG] [routes.watermark_routes] Parsing header and message bits...
[2025-06-29 19:39:01,499] [DEBUG] [utils.bit_utils] Extracted header bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
[2025-06-29 19:39:01,500] [DEBUG] [utils.bit_utils] Converted bits to integer: 0
[2025-06-29 19:39:01,500] [DEBUG] [utils.bit_utils] Message length from header: 0
[2025-06-29 19:39:01,500] [DEBUG] [utils.bit_utils] Extracted header: message_length = 0 bits
[2025-06-29 19:39:01,500] [DEBUG] [routes.watermark_routes] Message length from header: 0 bits
[2025-06-29 19:39:01,500] [DEBUG] [routes.watermark_routes] Converting message bits to string...
[2025-06-29 19:39:01,500] [DEBUG] [utils.bit_utils] Reconstructing string from bits. Bit length = 0
[2025-06-29 19:39:01,500] [DEBUG] [utils.bit_utils] Bits successfully converted to string: ''
[2025-06-29 19:39:01,500] [INFO] [routes.watermark_routes] POST /extract completed successfully.
[2025-06-29 19:39:01,501] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 19:50:31 ==========


========== New Session: 2025-06-29 19:50:31 ==========


========== New Session: 2025-06-29 19:50:31 ==========


========== New Session: 2025-06-29 19:50:51 ==========


========== New Session: 2025-06-29 19:50:51 ==========


========== New Session: 2025-06-29 19:50:51 ==========


========== New Session: 2025-06-29 19:50:51 ==========


========== New Session: 2025-06-29 19:50:51 ==========
[2025-06-29 19:50:51,804] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:50:51,804] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:50:51,806] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 19:50:51 ==========


========== New Session: 2025-06-29 19:50:51 ==========


========== New Session: 2025-06-29 19:50:51 ==========


========== New Session: 2025-06-29 19:50:51 ==========


========== New Session: 2025-06-29 19:50:51 ==========
[2025-06-29 19:50:51,988] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:50:51,988] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:50:51,989] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 19:51:53 ==========


========== New Session: 2025-06-29 19:51:53 ==========


========== New Session: 2025-06-29 19:51:53 ==========


========== New Session: 2025-06-29 19:53:08 ==========


========== New Session: 2025-06-29 19:53:08 ==========


========== New Session: 2025-06-29 19:53:08 ==========


========== New Session: 2025-06-29 19:53:08 ==========


========== New Session: 2025-06-29 19:53:08 ==========
[2025-06-29 19:53:08,393] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:53:08,394] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:53:08,395] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 19:53:08 ==========


========== New Session: 2025-06-29 19:53:08 ==========


========== New Session: 2025-06-29 19:53:08 ==========


========== New Session: 2025-06-29 19:53:08 ==========


========== New Session: 2025-06-29 19:53:08 ==========
[2025-06-29 19:53:08,576] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:53:08,577] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:53:08,578] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 19:53:39,889] [DEBUG] [__main__] Received a new request.
[2025-06-29 19:53:39,889] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 19:53:39,894] [DEBUG] [routes.watermark_routes] Loading image for embedding...
[2025-06-29 19:53:39,894] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 19:53:39,911] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 19:53:39,911] [DEBUG] [routes.watermark_routes] Converting message to bits and adding header...
[2025-06-29 19:53:39,911] [DEBUG] [utils.bit_utils] Converting string to bits: 'wefawe'
[2025-06-29 19:53:39,911] [DEBUG] [utils.bit_utils] String converted to 48 bits.
[2025-06-29 19:53:39,911] [DEBUG] [utils.bit_utils] Preparing header for message length: 48 bits
[2025-06-29 19:53:39,911] [DEBUG] [utils.bit_utils] Converted integer 48 to 16-bit header: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0]
[2025-06-29 19:53:39,911] [DEBUG] [utils.bit_utils] Total bitstream length after header = 64 bits
[2025-06-29 19:53:39,911] [DEBUG] [routes.watermark_routes] Embedding 64 bits into image...
[2025-06-29 19:53:39,936] [DEBUG] [core.dwt_engine] Embedding 64 bits in Y channel parity
[2025-06-29 19:53:39,937] [DEBUG] [core.dwt_engine] Y-parity embed check: 64 bits embedded, 0 mismatches
[2025-06-29 19:53:39,938] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/890321b36d5845f6aa66a248c1132263_orig.png
[2025-06-29 19:53:39,957] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 19:53:39,957] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/890321b36d5845f6aa66a248c1132263_wm.png
[2025-06-29 19:53:39,977] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 19:53:39,977] [INFO] [routes.watermark_routes] Embedding successful, encoding to base64...
[2025-06-29 19:53:39,977] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/890321b36d5845f6aa66a248c1132263_wm.png
[2025-06-29 19:53:39,978] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 19:53:39,978] [INFO] [routes.watermark_routes] POST /watermark completed successfully.
[2025-06-29 19:53:39,982] [INFO] [__main__] App context teardown complete.
[2025-06-29 19:53:49,830] [DEBUG] [__main__] Received a new request.
[2025-06-29 19:53:49,830] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 19:53:49,836] [DEBUG] [routes.watermark_routes] Loading watermarked image for extraction...
[2025-06-29 19:53:49,836] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 19:53:49,846] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 19:53:49,846] [DEBUG] [routes.watermark_routes] Extracting full bitstream from image...
[2025-06-29 19:53:49,846] [ERROR] [routes.watermark_routes] Extraction failed.
Traceback (most recent call last):
  File "/home/gowtham/dwt-watermarking/backend/routes/watermark_routes.py", line 81, in extract_watermark
    full_bits = extract_bits_from_dwt(image, band='LH')
TypeError: extract_bits_from_dwt() got an unexpected keyword argument 'band'
[2025-06-29 19:53:49,847] [INFO] [__main__] App context teardown complete.


========== New Session: 2025-06-29 19:55:43 ==========


========== New Session: 2025-06-29 19:55:43 ==========


========== New Session: 2025-06-29 19:55:43 ==========


========== New Session: 2025-06-29 19:55:43 ==========


========== New Session: 2025-06-29 19:55:43 ==========
[2025-06-29 19:55:43,552] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:55:43,552] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:55:43,553] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 19:56:35 ==========


========== New Session: 2025-06-29 19:56:35 ==========


========== New Session: 2025-06-29 19:56:35 ==========


========== New Session: 2025-06-29 19:56:35 ==========


========== New Session: 2025-06-29 19:56:35 ==========
[2025-06-29 19:56:35,018] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:56:35,018] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:56:35,019] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 19:56:48 ==========


========== New Session: 2025-06-29 19:56:48 ==========


========== New Session: 2025-06-29 19:56:48 ==========


========== New Session: 2025-06-29 19:56:48 ==========


========== New Session: 2025-06-29 19:56:48 ==========
[2025-06-29 19:56:48,501] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:56:48,501] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:56:48,502] [INFO] [__main__] Registering watermark blueprint...


========== New Session: 2025-06-29 19:56:48 ==========


========== New Session: 2025-06-29 19:56:48 ==========


========== New Session: 2025-06-29 19:56:48 ==========


========== New Session: 2025-06-29 19:56:48 ==========


========== New Session: 2025-06-29 19:56:48 ==========
[2025-06-29 19:56:48,684] [INFO] [__main__] Launching Flask server...
[2025-06-29 19:56:48,684] [INFO] [__main__] Creating Flask app...
[2025-06-29 19:56:48,685] [INFO] [__main__] Registering watermark blueprint...
[2025-06-29 19:57:01,324] [DEBUG] [__main__] Received a new request.
[2025-06-29 19:57:01,324] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 19:57:01,329] [DEBUG] [routes.watermark_routes] Loading image for embedding...
[2025-06-29 19:57:01,329] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 19:57:01,362] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (920, 1784, 3)
[2025-06-29 19:57:01,362] [DEBUG] [routes.watermark_routes] Converting message to bits and adding header...
[2025-06-29 19:57:01,362] [DEBUG] [utils.bit_utils] Converting string to bits: 'gdtg'
[2025-06-29 19:57:01,362] [DEBUG] [utils.bit_utils] String converted to 32 bits.
[2025-06-29 19:57:01,362] [DEBUG] [utils.bit_utils] Preparing header for message length: 32 bits
[2025-06-29 19:57:01,362] [DEBUG] [utils.bit_utils] Converted integer 32 to 16-bit header: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0]
[2025-06-29 19:57:01,362] [DEBUG] [utils.bit_utils] Total bitstream length after header = 48 bits
[2025-06-29 19:57:01,362] [DEBUG] [routes.watermark_routes] Embedding 48 bits using Y-channel parity...
[2025-06-29 19:57:01,422] [DEBUG] [core.dwt_engine] Embedding 48 bits in Y channel parity
[2025-06-29 19:57:01,423] [DEBUG] [core.dwt_engine] Y-parity embed check: 48 bits embedded, 0 mismatches
[2025-06-29 19:57:01,429] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/a2377cf67d704ec4b76b268e0496b096_orig.png
[2025-06-29 19:57:01,469] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 19:57:01,469] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/a2377cf67d704ec4b76b268e0496b096_wm.png
[2025-06-29 19:57:01,507] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 19:57:01,507] [INFO] [routes.watermark_routes] Embedding successful, encoding to base64...
[2025-06-29 19:57:01,507] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/a2377cf67d704ec4b76b268e0496b096_wm.png
[2025-06-29 19:57:01,509] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 19:57:01,509] [INFO] [routes.watermark_routes] POST /watermark completed successfully.
[2025-06-29 19:57:01,515] [INFO] [__main__] App context teardown complete.
[2025-06-29 19:57:09,777] [DEBUG] [__main__] Received a new request.
[2025-06-29 19:57:09,777] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 19:57:09,783] [DEBUG] [routes.watermark_routes] Loading watermarked image for extraction...
[2025-06-29 19:57:09,784] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 19:57:09,808] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (920, 1784, 3)
[2025-06-29 19:57:09,808] [DEBUG] [routes.watermark_routes] Extracting full bitstream from Y-channel parity...
[2025-06-29 19:57:09,990] [DEBUG] [core.dwt_engine] Extracted first 32 bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 1, 0, 1, 1, 0, 0, 1, 0, 0]
[2025-06-29 19:57:09,990] [DEBUG] [core.dwt_engine] Total bits extracted: 1641280
[2025-06-29 19:57:09,990] [DEBUG] [routes.watermark_routes] First 32 bits extracted: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 1, 0, 1, 1, 0, 0, 1, 0, 0]
[2025-06-29 19:57:09,990] [DEBUG] [routes.watermark_routes] Total bits extracted: 1641280
[2025-06-29 19:57:09,990] [DEBUG] [routes.watermark_routes] Parsing header and message bits...
[2025-06-29 19:57:09,990] [DEBUG] [utils.bit_utils] Extracted header bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0]
[2025-06-29 19:57:09,991] [DEBUG] [utils.bit_utils] Converted bits to integer: 32
[2025-06-29 19:57:09,991] [DEBUG] [utils.bit_utils] Message length from header: 32
[2025-06-29 19:57:09,991] [DEBUG] [utils.bit_utils] Extracted header: message_length = 32 bits
[2025-06-29 19:57:09,991] [DEBUG] [routes.watermark_routes] Message length from header: 32 bits
[2025-06-29 19:57:09,991] [DEBUG] [routes.watermark_routes] Converting message bits to string...
[2025-06-29 19:57:09,991] [DEBUG] [utils.bit_utils] Reconstructing string from bits. Bit length = 32
[2025-06-29 19:57:09,991] [DEBUG] [utils.bit_utils] Bits successfully converted to string: 'gdtg'
[2025-06-29 19:57:09,991] [INFO] [routes.watermark_routes] POST /extract completed successfully.
[2025-06-29 19:57:09,995] [INFO] [__main__] App context teardown complete.
[2025-06-29 19:57:27,019] [DEBUG] [__main__] Received a new request.
[2025-06-29 19:57:27,019] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 19:57:27,022] [DEBUG] [routes.watermark_routes] Loading image for embedding...
[2025-06-29 19:57:27,022] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 19:57:27,038] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 19:57:27,038] [DEBUG] [routes.watermark_routes] Converting message to bits and adding header...
[2025-06-29 19:57:27,038] [DEBUG] [utils.bit_utils] Converting string to bits: 'sfffg'
[2025-06-29 19:57:27,038] [DEBUG] [utils.bit_utils] String converted to 40 bits.
[2025-06-29 19:57:27,038] [DEBUG] [utils.bit_utils] Preparing header for message length: 40 bits
[2025-06-29 19:57:27,038] [DEBUG] [utils.bit_utils] Converted integer 40 to 16-bit header: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0]
[2025-06-29 19:57:27,038] [DEBUG] [utils.bit_utils] Total bitstream length after header = 56 bits
[2025-06-29 19:57:27,038] [DEBUG] [routes.watermark_routes] Embedding 56 bits using Y-channel parity...
[2025-06-29 19:57:27,058] [DEBUG] [core.dwt_engine] Embedding 56 bits in Y channel parity
[2025-06-29 19:57:27,059] [DEBUG] [core.dwt_engine] Y-parity embed check: 56 bits embedded, 0 mismatches
[2025-06-29 19:57:27,059] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/679d036f79444ea79c02ad09dacaf287_orig.png
[2025-06-29 19:57:27,078] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 19:57:27,078] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/679d036f79444ea79c02ad09dacaf287_wm.png
[2025-06-29 19:57:27,097] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 19:57:27,097] [INFO] [routes.watermark_routes] Embedding successful, encoding to base64...
[2025-06-29 19:57:27,097] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/679d036f79444ea79c02ad09dacaf287_wm.png
[2025-06-29 19:57:27,098] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 19:57:27,098] [INFO] [routes.watermark_routes] POST /watermark completed successfully.
[2025-06-29 19:57:27,101] [INFO] [__main__] App context teardown complete.
[2025-06-29 19:57:34,250] [DEBUG] [__main__] Received a new request.
[2025-06-29 19:57:34,250] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 19:57:34,254] [DEBUG] [routes.watermark_routes] Loading watermarked image for extraction...
[2025-06-29 19:57:34,254] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 19:57:34,265] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 19:57:34,266] [DEBUG] [routes.watermark_routes] Extracting full bitstream from Y-channel parity...
[2025-06-29 19:57:34,328] [DEBUG] [core.dwt_engine] Extracted first 32 bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0]
[2025-06-29 19:57:34,328] [DEBUG] [core.dwt_engine] Total bits extracted: 588000
[2025-06-29 19:57:34,328] [DEBUG] [routes.watermark_routes] First 32 bits extracted: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0]
[2025-06-29 19:57:34,328] [DEBUG] [routes.watermark_routes] Total bits extracted: 588000
[2025-06-29 19:57:34,328] [DEBUG] [routes.watermark_routes] Parsing header and message bits...
[2025-06-29 19:57:34,328] [DEBUG] [utils.bit_utils] Extracted header bits: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0]
[2025-06-29 19:57:34,328] [DEBUG] [utils.bit_utils] Converted bits to integer: 40
[2025-06-29 19:57:34,328] [DEBUG] [utils.bit_utils] Message length from header: 40
[2025-06-29 19:57:34,328] [DEBUG] [utils.bit_utils] Extracted header: message_length = 40 bits
[2025-06-29 19:57:34,328] [DEBUG] [routes.watermark_routes] Message length from header: 40 bits
[2025-06-29 19:57:34,328] [DEBUG] [routes.watermark_routes] Converting message bits to string...
[2025-06-29 19:57:34,328] [DEBUG] [utils.bit_utils] Reconstructing string from bits. Bit length = 40
[2025-06-29 19:57:34,328] [DEBUG] [utils.bit_utils] Bits successfully converted to string: 'sfffg'
[2025-06-29 19:57:34,328] [INFO] [routes.watermark_routes] POST /extract completed successfully.
[2025-06-29 19:57:34,330] [INFO] [__main__] App context teardown complete.
[2025-06-29 19:57:50,509] [DEBUG] [__main__] Received a new request.
[2025-06-29 19:57:50,509] [INFO] [routes.watermark_routes] POST /watermark called
[2025-06-29 19:57:50,514] [DEBUG] [routes.watermark_routes] Loading image for embedding...
[2025-06-29 19:57:50,514] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 19:57:50,530] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 19:57:50,530] [DEBUG] [routes.watermark_routes] Converting message to bits and adding header...
[2025-06-29 19:57:50,530] [DEBUG] [utils.bit_utils] Converting string to bits: 'sfffggaeEFEAS11233'
[2025-06-29 19:57:50,530] [DEBUG] [utils.bit_utils] String converted to 144 bits.
[2025-06-29 19:57:50,530] [DEBUG] [utils.bit_utils] Preparing header for message length: 144 bits
[2025-06-29 19:57:50,530] [DEBUG] [utils.bit_utils] Converted integer 144 to 16-bit header: [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0]
[2025-06-29 19:57:50,530] [DEBUG] [utils.bit_utils] Total bitstream length after header = 160 bits
[2025-06-29 19:57:50,530] [DEBUG] [routes.watermark_routes] Embedding 160 bits using Y-channel parity...
[2025-06-29 19:57:50,543] [DEBUG] [core.dwt_engine] Embedding 160 bits in Y channel parity
[2025-06-29 19:57:50,543] [DEBUG] [core.dwt_engine] Y-parity embed check: 160 bits embedded, 0 mismatches
[2025-06-29 19:57:50,544] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/original/3518bd4915cf452e97c14d2d22038fcd_orig.png
[2025-06-29 19:57:50,563] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 19:57:50,564] [DEBUG] [utils.image_utils] Attempting to save image to path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/3518bd4915cf452e97c14d2d22038fcd_wm.png
[2025-06-29 19:57:50,584] [DEBUG] [utils.image_utils] Image saved successfully.
[2025-06-29 19:57:50,584] [INFO] [routes.watermark_routes] Embedding successful, encoding to base64...
[2025-06-29 19:57:50,584] [DEBUG] [utils.image_utils] Attempting to convert image to base64 from path: /home/gowtham/dwt-watermarking/backend/uploads/watermarked/3518bd4915cf452e97c14d2d22038fcd_wm.png
[2025-06-29 19:57:50,585] [DEBUG] [utils.image_utils] Image successfully encoded to base64.
[2025-06-29 19:57:50,586] [INFO] [routes.watermark_routes] POST /watermark completed successfully.
[2025-06-29 19:57:50,589] [INFO] [__main__] App context teardown complete.
[2025-06-29 19:57:59,058] [DEBUG] [__main__] Received a new request.
[2025-06-29 19:57:59,058] [INFO] [routes.watermark_routes] POST /extract called
[2025-06-29 19:57:59,062] [DEBUG] [routes.watermark_routes] Loading watermarked image for extraction...
[2025-06-29 19:57:59,063] [DEBUG] [utils.image_utils] Attempting to load image from uploaded file...
[2025-06-29 19:57:59,074] [DEBUG] [utils.image_utils] Image successfully loaded. Shape: (840, 700, 3)
[2025-06-29 19:57:59,074] [DEBUG] [routes.watermark_routes] Extracting full bitstream from Y-channel parity...
[2025-06-29 19:57:59,136] [DEBUG] [core.dwt_engine] Extracted first 32 bits: [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0]
[2025-06-29 19:57:59,136] [DEBUG] [core.dwt_engine] Total bits extracted: 588000
[2025-06-29 19:57:59,137] [DEBUG] [routes.watermark_routes] First 32 bits extracted: [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0]
[2025-06-29 19:57:59,137] [DEBUG] [routes.watermark_routes] Total bits extracted: 588000
[2025-06-29 19:57:59,137] [DEBUG] [routes.watermark_routes] Parsing header and message bits...
[2025-06-29 19:57:59,137] [DEBUG] [utils.bit_utils] Extracted header bits: [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0]
[2025-06-29 19:57:59,137] [DEBUG] [utils.bit_utils] Converted bits to integer: 144
[2025-06-29 19:57:59,137] [DEBUG] [utils.bit_utils] Message length from header: 144
[2025-06-29 19:57:59,137] [DEBUG] [utils.bit_utils] Extracted header: message_length = 144 bits
[2025-06-29 19:57:59,137] [DEBUG] [routes.watermark_routes] Message length from header: 144 bits
[2025-06-29 19:57:59,137] [DEBUG] [routes.watermark_routes] Converting message bits to string...
[2025-06-29 19:57:59,137] [DEBUG] [utils.bit_utils] Reconstructing string from bits. Bit length = 144
[2025-06-29 19:57:59,137] [DEBUG] [utils.bit_utils] Bits successfully converted to string: 'sfffggaeEFEAS11233'
[2025-06-29 19:57:59,137] [INFO] [routes.watermark_routes] POST /extract completed successfully.
[2025-06-29 19:57:59,139] [INFO] [__main__] App context teardown complete.
